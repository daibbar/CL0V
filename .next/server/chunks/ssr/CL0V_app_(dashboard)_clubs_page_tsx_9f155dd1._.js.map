{"version":3,"sources":["../../../../../CL0V/app/%28dashboard%29/clubs/page.tsx","../../../../../CL0V/actions/data%3Acb96a2%20%3Ctext/javascript%3E","../../../../../CL0V/actions/data%3Ace36c9%20%3Ctext/javascript%3E","../../../../../CL0V/actions/data%3Ac09edb%20%3Ctext/javascript%3E","../../../../../CL0V/actions/data%3Af52fbb%20%3Ctext/javascript%3E","../../../../../CL0V/actions/data%3A0a378a%20%3Ctext/javascript%3E","../../../../../CL0V/actions/data%3A64678d%20%3Ctext/javascript%3E"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Plus, Edit, Trash2, Users, Calendar, Activity as ActivityIcon, Loader2 } from \"lucide-react\"\nimport { useToast } from \"@/hooks/use-toast\"\n\n// 1. Import centralized types\nimport { Club, Event, Activity, Student } from \"@/types/db\"\n\n// 2. Import Server Actions\nimport { createClub, updateClub, deleteClub, getClubs, getClubMembers, getClubEvents, getClubActivities } from \"@/actions/club-actions\"\n\n// 3. Define joined/UI-specific types\ntype Member = Student & {\n  joinedAt: string\n}\n\n// --- REMOVED ALL MOCK DATA - USING SERVER ACTIONS FOR REAL DATA ---\n\nexport default function ClubsPage() {\n  const [clubs, setClubs] = useState<Club[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [isOpen, setIsOpen] = useState(false)\n  const [editingClub, setEditingClub] = useState<Club | null>(null)\n  const [selectedClub, setSelectedClub] = useState<number | null>(null)\n  \n  // Detail States\n  const [clubMembers, setClubMembers] = useState<Member[]>([])\n  const [clubEvents, setClubEvents] = useState<Event[]>([])\n  const [clubActivities, setClubActivities] = useState<Activity[]>([])\n\n  const { toast } = useToast()\n\n  // --- 1. FETCH REAL DATA ON LOAD ---\n  const loadClubs = async () => {\n    setIsLoading(true)\n    try {\n      const data = await getClubs()\n      setClubs(data)\n    } catch (error) {\n      toast({ title: \"Error loading clubs\", variant: \"destructive\" })\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadClubs()\n  }, [])\n\n  // --- FETCH DETAILS WHEN SELECTED CLUB CHANGES ---\n  useEffect(() => {\n    async function fetchDetails() {\n      if (!selectedClub) {\n        setClubMembers([])\n        setClubEvents([])\n        setClubActivities([])\n        return\n      }\n\n      try {\n        const [members, events, activities] = await Promise.all([\n          getClubMembers(selectedClub),\n          getClubEvents(selectedClub),\n          getClubActivities(selectedClub)\n        ])\n        // We need to cast the result to Member[] because the DB query returns the join result\n        // which matches the shape but TypeScript might need reassurance or the action return type should be explicit.\n        // For now, implicit casting via assignment usually works if shapes match.\n        setClubMembers(members as Member[])\n        setClubEvents(events as Event[])\n        setClubActivities(activities as Activity[])\n      } catch (error) {\n        console.error(\"Error fetching club details\", error)\n        toast({ title: \"Error loading details\", variant: \"destructive\" })\n      }\n    }\n\n    fetchDetails()\n  }, [selectedClub, toast])\n\n  // --- 2. HANDLE SUBMIT (CREATE / UPDATE) ---\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    const formData = new FormData(e.currentTarget)\n\n    let result\n    if (editingClub) {\n      // Update\n      result = await updateClub(editingClub.clubId, formData)\n    } else {\n      // Create\n      // Ensure creation date is set if not provided by user\n      if (!formData.get('createdAt')) {\n        formData.set('createdAt', new Date().toISOString().split('T')[0])\n      }\n      result = await createClub(formData)\n    }\n\n    if (result.success) {\n      toast({ title: result.message })\n      await loadClubs() // Reload the list from DB\n      setIsOpen(false)\n      setEditingClub(null)\n    } else {\n      toast({ \n        title: \"Operation Failed\", \n        description: result.message, \n        variant: \"destructive\" \n      })\n    }\n  }\n\n  // --- 3. HANDLE DELETE ---\n  const handleDelete = async (id: number) => {\n    const result = await deleteClub(id)\n    \n    if (result.success) {\n      toast({ title: result.message })\n      // Optimistic update: remove locally immediately\n      setClubs(clubs.filter((c) => c.clubId !== id))\n      if (selectedClub === id) {\n        setSelectedClub(null)\n      }\n    } else {\n      toast({ \n        title: \"Delete Failed\", \n        description: result.message, \n        variant: \"destructive\" \n      })\n    }\n  }\n\n  const handleEdit = (club: Club) => {\n    setEditingClub(club)\n    setIsOpen(true)\n  }\n\n  const selectedClubData = clubs.find((c) => c.clubId === selectedClub)\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"border-b border-border bg-card\">\n        <div className=\"px-8 py-6\">\n          <h1 className=\"text-2xl font-bold text-foreground\">Clubs Management</h1>\n          <p className=\"text-sm text-muted-foreground\">Manage student clubs and organizations</p>\n        </div>\n      </header>\n\n      <main className=\"px-8 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          \n          {/* --- LEFT COLUMN: LIST OF CLUBS --- */}\n          <div className=\"lg:col-span-1\">\n            <Card>\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-4\">\n                <div>\n                  <CardTitle>All Clubs</CardTitle>\n                  <CardDescription>Select a club to view details</CardDescription>\n                </div>\n                <Dialog\n                  open={isOpen}\n                  onOpenChange={(open) => {\n                    setIsOpen(open)\n                    if (!open) setEditingClub(null)\n                  }}\n                >\n                  <DialogTrigger asChild>\n                    <Button size=\"sm\">\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"max-w-md\">\n                    <DialogHeader>\n                      <DialogTitle>{editingClub ? \"Edit Club\" : \"Create New Club\"}</DialogTitle>\n                      <DialogDescription>\n                        {editingClub ? \"Update club information\" : \"Add a new club to the system\"}\n                      </DialogDescription>\n                    </DialogHeader>\n                    <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\n                      <div className=\"grid gap-2\">\n                        <Label htmlFor=\"clubName\">Club Name</Label>\n                        <Input id=\"clubName\" name=\"clubName\" defaultValue={editingClub?.clubName} required />\n                      </div>\n                      <div className=\"grid gap-2\">\n                        <Label htmlFor=\"category\">Category</Label>\n                        <Select name=\"category\" defaultValue={editingClub?.category} required>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select category\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"art et culture\">Art et Culture</SelectItem>\n                            <SelectItem value=\"sport\">Sport</SelectItem>\n                            <SelectItem value=\"technologie\">Technologie</SelectItem>\n                            <SelectItem value=\"entrepreneuriat social\">Entrepreneuriat Social</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div className=\"grid gap-2\">\n                        <Label htmlFor=\"createdAt\">Creation Date</Label>\n                        <Input\n                          id=\"createdAt\"\n                          name=\"createdAt\"\n                          type=\"date\"\n                          defaultValue={editingClub?.createdAt ? new Date(editingClub.createdAt).toISOString().split('T')[0] : ''}\n                          required\n                        />\n                      </div>\n                      <div className=\"grid gap-2\">\n                        <Label htmlFor=\"description\">Description</Label>\n                        <Textarea\n                          id=\"description\"\n                          name=\"description\"\n                          defaultValue={editingClub?.description || ''}\n                          rows={3}\n                        />\n                      </div>\n                      <div className=\"flex gap-2 justify-end\">\n                        <Button type=\"button\" variant=\"outline\" onClick={() => setIsOpen(false)}>\n                          Cancel\n                        </Button>\n                        <Button type=\"submit\">{editingClub ? \"Update\" : \"Create\"}</Button>\n                      </div>\n                    </form>\n                  </DialogContent>\n                </Dialog>\n              </CardHeader>\n              <CardContent className=\"space-y-2\">\n                {isLoading ? (\n                  <div className=\"flex justify-center py-10\">\n                    <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n                  </div>\n                ) : clubs.length === 0 ? (\n                  <div className=\"text-center py-10 text-muted-foreground text-sm\">\n                    No clubs found. Create one!\n                  </div>\n                ) : (\n                  clubs.map((club) => (\n                    <div\n                      key={club.clubId}\n                      className={`flex items-start justify-between p-4 rounded-lg border cursor-pointer transition-all ${\n                        selectedClub === club.clubId\n                          ? \"bg-primary/10 border-primary\"\n                          : \"group bg-card border-border hover:bg-accent hover:text-accent-foreground hover:border-primary/50\"\n                      }`}\n                      onClick={() => setSelectedClub(club.clubId)}\n                    >\n                      <div className=\"flex-1 min-w-0\">\n                        <h3 className=\"font-semibold text-foreground text-sm truncate group-hover:text-accent-foreground\">{club.clubName}</h3>\n                        <p className=\"text-xs text-muted-foreground mt-1 group-hover:text-accent-foreground/80\">\n                          <span className=\"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-accent/10 text-accent group-hover:bg-white/20 group-hover:text-white\">\n                            {club.category}\n                          </span>\n                        </p>\n                      </div>\n                      <div className=\"flex gap-1 ml-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            handleEdit(club)\n                          }}\n                        >\n                          <Edit className=\"h-3.5 w-3.5\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            handleDelete(club.clubId)\n                          }}\n                        >\n                          <Trash2 className=\"h-3.5 w-3.5 text-destructive group-hover:text-destructive-foreground\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* --- RIGHT COLUMN: CLUB DETAILS --- */}\n          <div className=\"lg:col-span-2\">\n            {selectedClubData ? (\n              <div className=\"space-y-6\">\n                {/* Club Info Card */}\n                <Card>\n                  <CardHeader>\n                    <CardTitle>{selectedClubData.clubName}</CardTitle>\n                    <CardDescription>{selectedClubData.description}</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <span className=\"text-muted-foreground\">Category:</span>\n                        <p className=\"font-medium mt-1\">\n                          <span className=\"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-accent/10 text-accent\">\n                            {selectedClubData.category}\n                          </span>\n                        </p>\n                      </div>\n                      <div>\n                        <span className=\"text-muted-foreground\">Created:</span>\n                        <p className=\"font-medium mt-1\">\n                          {new Date(selectedClubData.createdAt).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Members Card */}\n                <Card>\n                  <CardHeader>\n                    <div className=\"flex items-center gap-2\">\n                      <Users className=\"h-5 w-5 text-accent\" />\n                      <CardTitle>Members ({clubMembers.length})</CardTitle>\n                    </div>\n                    <CardDescription>Club members and registration dates</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    {clubMembers.length > 0 ? (\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Code</TableHead>\n                            <TableHead>Name</TableHead>\n                            <TableHead>Email</TableHead>\n                            <TableHead>Joined</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {clubMembers.map((member) => (\n                            <TableRow key={member.studentId}>\n                              <TableCell className=\"font-mono text-sm\">{member.cne}</TableCell>\n                              <TableCell className=\"font-medium\">{member.firstName} {member.lastName}</TableCell>\n                              <TableCell className=\"text-muted-foreground\">{member.email}</TableCell>\n                              <TableCell>{new Date(member.joinedAt).toLocaleDateString()}</TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    ) : (\n                      <p className=\"text-sm text-muted-foreground text-center py-8\">No members yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Events Card */}\n                <Card>\n                  <CardHeader>\n                    <div className=\"flex items-center gap-2\">\n                      <Calendar className=\"h-5 w-5 text-accent\" />\n                      <CardTitle>Events ({clubEvents.length})</CardTitle>\n                    </div>\n                    <CardDescription>Events this club participates in</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    {clubEvents.length > 0 ? (\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Event Name</TableHead>\n                            <TableHead>Start Date</TableHead>\n                            <TableHead>End Date</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {clubEvents.map((event) => (\n                            <TableRow key={event.eventId}>\n                              <TableCell className=\"font-medium\">{event.eventName}</TableCell>\n                              <TableCell>{new Date(event.startDate).toLocaleDateString()}</TableCell>\n                              <TableCell>{new Date(event.endDate).toLocaleDateString()}</TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    ) : (\n                      <p className=\"text-sm text-muted-foreground text-center py-8\">No events yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Activities Card */}\n                <Card>\n                  <CardHeader>\n                    <div className=\"flex items-center gap-2\">\n                      <ActivityIcon className=\"h-5 w-5 text-accent\" />\n                      <CardTitle>Activities ({clubActivities.length})</CardTitle>\n                    </div>\n                    <CardDescription>Activities organized by this club</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    {clubActivities.length > 0 ? (\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Activity Name</TableHead>\n                            <TableHead>Type</TableHead>\n                            <TableHead>Start Date</TableHead>\n                            <TableHead>Capacity</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {clubActivities.map((activity) => (\n                            <TableRow key={activity.activityId}>\n                              <TableCell className=\"font-medium\">{activity.activityName}</TableCell>\n                              <TableCell>\n                                <span className=\"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-primary/10 text-primary capitalize\">\n                                  {activity.type}\n                                </span>\n                              </TableCell>\n                              <TableCell>{new Date(activity.startDate).toLocaleDateString()}</TableCell>\n                              <TableCell className=\"text-muted-foreground\">{activity.maxCapacity} people</TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    ) : (\n                      <p className=\"text-sm text-muted-foreground text-center py-8\">No activities yet</p>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n            ) : (\n              <Card className=\"h-[400px] flex items-center justify-center\">\n                <CardContent>\n                  <div className=\"text-center\">\n                    <Users className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                    <p className=\"text-lg font-medium text-foreground mb-2\">No club selected</p>\n                    <p className=\"text-sm text-muted-foreground\">Select a club from the list to view its details</p>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}","/* __next_internal_action_entry_do_not_use__ [{\"40cc7ee1355da82c16e371972e28f7e30849d71969\":\"createClub\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createClub=/*#__PURE__*/createServerReference(\"40cc7ee1355da82c16e371972e28f7e30849d71969\",callServer,void 0,findSourceMapURL,\"createClub\");","/* __next_internal_action_entry_do_not_use__ [{\"60cee25155eb268da38739ba2e407d54bb593b1df7\":\"updateClub\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateClub=/*#__PURE__*/createServerReference(\"60cee25155eb268da38739ba2e407d54bb593b1df7\",callServer,void 0,findSourceMapURL,\"updateClub\");","/* __next_internal_action_entry_do_not_use__ [{\"405b392b39a10b6121ccadaa05f71f247ebe3ed014\":\"deleteClub\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var deleteClub=/*#__PURE__*/createServerReference(\"405b392b39a10b6121ccadaa05f71f247ebe3ed014\",callServer,void 0,findSourceMapURL,\"deleteClub\");","/* __next_internal_action_entry_do_not_use__ [{\"4093cad3ee0ecc3b0fef2e61956b43f07c74a082a5\":\"getClubMembers\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getClubMembers=/*#__PURE__*/createServerReference(\"4093cad3ee0ecc3b0fef2e61956b43f07c74a082a5\",callServer,void 0,findSourceMapURL,\"getClubMembers\");","/* __next_internal_action_entry_do_not_use__ [{\"4067996a687fa4cdbc7335e58587de60a556e5ae59\":\"getClubEvents\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getClubEvents=/*#__PURE__*/createServerReference(\"4067996a687fa4cdbc7335e58587de60a556e5ae59\",callServer,void 0,findSourceMapURL,\"getClubEvents\");","/* __next_internal_action_entry_do_not_use__ [{\"40c8af38a81f3624f6b01079a706aa468b028c92a6\":\"getClubActivities\"},\"CL0V/actions/club-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getClubActivities=/*#__PURE__*/createServerReference(\"40c8af38a81f3624f6b01079a706aa468b028c92a6\",callServer,void 0,findSourceMapURL,\"getClubActivities\");"],"names":[],"mappings":"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"}