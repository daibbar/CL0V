module.exports=[56267,a=>{"use strict";var b=a.i(7537),c=a.i(2009),d=a.i(78989),e=a.i(32051),f=a.i(56427),g=a.i(53210),h=a.i(51799),i=a.i(50897),j=a.i(6667),k=a.i(62532),l=a.i(32882),m=a.i(65539),n=a.i(28888),o=a.i(78183),p=a.i(6765),q=a.i(96063),r=a.i(13913),s=a.i(89401),t=a.i(24082),u=a.i(22677),v=a.i(24954),w=a.i(43746),x=a.i(72423),y=a.i(61713),z=a.i(11614),A=a.i(35786),B=a.i(54049),C=a.i(53237),D=a.i(50236),E=a.i(53005),F=a.i(41028),G=a.i(56210),H=a.i(98284),I=a.i(92110),J=a.i(1250),K=a.i(777),L=a.i(82164),M=a.i(19934),N=a.i(39978),O=a.i(83962),P=a.i(40663),Q=a.i(49316),R=a.i(26339),S=a.i(96519),T="Radio",[U,V]=(0,L.createContextScope)(T),[W,X]=U(T),Y=c.forwardRef((a,d)=>{let{__scopeRadio:e,name:f,checked:g=!1,required:h,disabled:i,value:j="on",onCheck:k,form:l,...m}=a,[n,o]=c.useState(null),p=(0,K.useComposedRefs)(d,a=>o(a)),q=c.useRef(!1),r=!n||l||!!n.closest("form");return(0,b.jsxs)(W,{scope:e,checked:g,disabled:i,children:[(0,b.jsx)(M.Primitive.button,{type:"button",role:"radio","aria-checked":g,"data-state":aa(g),"data-disabled":i?"":void 0,disabled:i,value:j,...m,ref:p,onClick:(0,J.composeEventHandlers)(a.onClick,a=>{g||k?.(),r&&(q.current=a.isPropagationStopped(),q.current||a.stopPropagation())})}),r&&(0,b.jsx)(_,{control:n,bubbles:!q.current,name:f,value:j,checked:g,required:h,disabled:i,form:l,style:{transform:"translateX(-100%)"}})]})});Y.displayName=T;var Z="RadioIndicator",$=c.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,g=X(Z,d);return(0,b.jsx)(S.Presence,{present:e||g.checked,children:(0,b.jsx)(M.Primitive.span,{"data-state":aa(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c})})});$.displayName=Z;var _=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,h=c.useRef(null),i=(0,R.usePrevious)(e),j=(0,Q.useSize)(d);return c.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[i,e,f]),(0,b.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aa(a){return a?"checked":"unchecked"}var ab=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ac="RadioGroup",[ad,ae]=(0,L.createContextScope)(ac,[N.createRovingFocusGroupScope,V]),af=(0,N.createRovingFocusGroupScope)(),ag=V(),[ah,ai]=ad(ac),aj=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:g,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:m,...n}=a,o=af(d),p=(0,P.useDirection)(k),[q,r]=(0,O.useControllableState)({prop:g,defaultProp:f,onChange:m});return(0,b.jsx)(ah,{scope:d,name:e,required:h,disabled:i,value:q,onValueChange:r,children:(0,b.jsx)(N.Root,{asChild:!0,...o,orientation:j,dir:p,loop:l,children:(0,b.jsx)(M.Primitive.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:p,...n,ref:c})})})});aj.displayName=ac;var ak="RadioGroupItem",al=c.forwardRef((a,d)=>{let{__scopeRadioGroup:e,disabled:f,...g}=a,h=ai(ak,e),i=h.disabled||f,j=af(e),k=ag(e),l=c.useRef(null),m=(0,K.useComposedRefs)(d,l),n=h.value===g.value,o=c.useRef(!1);return c.useEffect(()=>{let a=a=>{ab.includes(a.key)&&(o.current=!0)},b=()=>o.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(N.Item,{asChild:!0,...j,focusable:!i,active:n,children:(0,b.jsx)(Y,{disabled:i,required:h.required,checked:n,...k,...g,name:h.name,ref:m,onCheck:()=>h.onValueChange(g.value),onKeyDown:(0,J.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,J.composeEventHandlers)(g.onFocus,()=>{o.current&&l.current?.click()})})})});al.displayName=ak;var am=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=ag(d);return(0,b.jsx)($,{...f,...e,ref:c})});am.displayName="RadioGroupIndicator";var an=a.i(30277),ao=a.i(44249);function ap({className:a,...c}){return(0,b.jsx)(aj,{"data-slot":"radio-group",className:(0,ao.cn)("grid gap-3",a),...c})}function aq({className:a,...c}){return(0,b.jsx)(al,{"data-slot":"radio-group-item",className:(0,ao.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(am,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,b.jsx)(an.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function ar(){let[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)([]),[ab,ac]=(0,c.useState)("event"),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(!0),{toast:an}=(0,u.useToast)(),ao=L?Z.find(a=>a.eventId===Number(L.eventId)):null;(0,c.useEffect)(()=>{(async()=>{am(!0);try{let[a,b,c,d,e]=await Promise.all([(0,y.getActivities)(),(0,F.getStudents)(),(0,G.getEvents)(),(0,H.getClubs)(),(0,I.getGuests)()]);K(a),O(b),$(c),aa(d),Q(e),a.length>0&&(M(a[0]),ar(a[0].activityId))}catch(a){an({title:"Error loading data",variant:"destructive"})}finally{am(!1)}})()},[]);let ar=async b=>{try{let[c,d]=await Promise.all([(0,z.getActivityRegistrations)(b),(0,C.getActivityReservations)(b)]);S(c),U(d);try{let c=await (await a.A(76777)).getActivityGuests(b);W(c)}catch(a){console.error("Failed to load activity guests",a),W([])}try{let c=J.find(a=>a.activityId===b),d=c?.clubId??null;if(d){let b=await (await a.A(76777)).getActivityClub(d);Y(b)}else Y(null)}catch(a){console.error("Failed to load organizing club",a),Y(null)}}catch(a){console.error("Error loading activity details:",a)}},as=async a=>{M(a),await ar(a.activityId)},at=async a=>{a.preventDefault();let b=new FormData(a.currentTarget);try{let a;if((a=aj?await (0,w.updateActivity)(aj.activityId,b):await (0,v.createActivity)(b)).success){an({title:a.message});let b=await (0,y.getActivities)();K(b),ae(!1),ak(null)}else an({title:a.message,variant:"destructive"})}catch(a){an({title:a.message||"An error occurred",variant:"destructive"})}},au=async a=>{try{let b=await (0,x.deleteActivity)(a);b.success?(K(J.filter(b=>b.activityId!==a)),L?.activityId===a&&M(J.find(b=>b.activityId!==a)||null),an({title:b.message})):an({title:b.message,variant:"destructive"})}catch(a){an({title:a.message||"An error occurred",variant:"destructive"})}},av=async a=>{if(a.preventDefault(),!L)return;let b=new FormData(a.currentTarget);b.append("activityId",L.activityId.toString());try{let a=await (0,A.addStudentToActivity)(b);a.success?(an({title:a.message}),ag(!1),await ar(L.activityId)):an({title:a.message,variant:"destructive"})}catch(a){an({title:a.message||"Failed to add student",variant:"destructive"})}},aw=async a=>{if(!L)return;let b=new FormData;b.append("activityId",L.activityId.toString()),b.append("studentId",a.toString());try{let a=await (0,B.removeStudentFromActivity)(b);a.success?(an({title:a.message}),await ar(L.activityId)):an({title:a.message,variant:"destructive"})}catch(a){an({title:a.message,variant:"destructive"})}},ax=async a=>{if(a.preventDefault(),!L)return;let b=new FormData(a.currentTarget);b.append("activityId",L.activityId.toString());try{let a=await (0,D.addGuestToActivity)(b);a.success?(an({title:a.message}),ai(!1),await ar(L.activityId)):an({title:a.message,variant:"destructive"})}catch(a){an({title:a.message||"Failed to add guest",variant:"destructive"})}},ay=async a=>{if(L)try{let b=await (0,E.removeGuestFromActivity)(a);b.success?(an({title:b.message}),await ar(L.activityId)):an({title:b.message,variant:"destructive"})}catch(a){an({title:a.message,variant:"destructive"})}};return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b border-border bg-card",children:(0,b.jsxs)("div",{className:"px-8 py-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Activities Management"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage club and event activities"})]})}),(0,b.jsx)("main",{className:"px-8 py-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"All Activities"}),(0,b.jsx)(e.CardDescription,{className:"text-xs",children:"Select to view details"})]}),(0,b.jsxs)(g.Dialog,{open:ad,onOpenChange:a=>{ae(a),a||ak(null)},children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{size:"sm",children:(0,b.jsx)(l.Plus,{className:"h-4 w-4"})})}),(0,b.jsxs)(g.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:aj?"Edit Activity":"Create New Activity"}),(0,b.jsx)(g.DialogDescription,{children:aj?"Update activity information":"Add a new activity to the system"})]}),(0,b.jsxs)("form",{onSubmit:at,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"activityName",children:"Activity Name"}),(0,b.jsx)(h.Input,{id:"activityName",name:"activityName",defaultValue:aj?.activityName,required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(j.Textarea,{id:"description",name:"description",defaultValue:aj?.description??"",rows:2})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"type",children:"Type"}),(0,b.jsxs)(k.Select,{name:"type",defaultValue:aj?.type||"",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"Voyage",children:"Voyage"}),(0,b.jsx)(k.SelectItem,{value:"Atelier",children:"Atelier"}),(0,b.jsx)(k.SelectItem,{value:"Conference",children:"Conference"}),(0,b.jsx)(k.SelectItem,{value:"Competition",children:"Competition"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"maxCapacity",children:"Max Capacity"}),(0,b.jsx)(h.Input,{id:"maxCapacity",name:"maxCapacity",type:"number",min:"1",defaultValue:aj?.maxCapacity?.toString()||"",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{children:"Organizer Type"}),(0,b.jsxs)(ap,{defaultValue:ab,onValueChange:a=>ac(a),className:"flex flex-row space-x-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aq,{value:"event",id:"r-event"}),(0,b.jsx)(i.Label,{htmlFor:"r-event",children:"Event"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aq,{value:"club",id:"r-club"}),(0,b.jsx)(i.Label,{htmlFor:"r-club",children:"Club"})]})]})]}),"event"===ab?(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"eventId",children:"Event"}),(0,b.jsxs)(k.Select,{name:"eventId",defaultValue:aj?.eventId?.toString()||"",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select event"})}),(0,b.jsx)(k.SelectContent,{children:Z.map(a=>(0,b.jsx)(k.SelectItem,{value:a.eventId.toString(),children:a.eventName},a.eventId))})]})]}):(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"clubId",children:"Club"}),(0,b.jsxs)(k.Select,{name:"clubId",defaultValue:aj?.clubId?.toString()||"",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select club"})}),(0,b.jsx)(k.SelectContent,{children:_.map(a=>(0,b.jsx)(k.SelectItem,{value:a.clubId.toString(),children:a.clubName},a.clubId))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"startDate",children:"Start Date & Time"}),(0,b.jsx)(h.Input,{id:"startDate",name:"startDate",type:"datetime-local",defaultValue:aj?.startDate,required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"endDate",children:"End Date & Time"}),(0,b.jsx)(h.Input,{id:"endDate",name:"endDate",type:"datetime-local",defaultValue:aj?.endDate,required:!0})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>ae(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",children:aj?"Update":"Create"})]})]})]})]})]}),(0,b.jsx)(e.CardContent,{className:"space-y-2 max-h-[500px] overflow-y-auto",children:J.map(a=>(0,b.jsxs)("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${L?.activityId===a.activityId?"bg-primary/10 border-primary":"group bg-card border-border hover:bg-accent hover:text-accent-foreground hover:border-primary/50"}`,onClick:()=>as(a),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:a.activityName}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:b=>{b.stopPropagation(),ak(a),a.clubId?ac("club"):ac("event"),ae(!0)},children:(0,b.jsx)(m.Edit,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:b=>{b.stopPropagation(),au(a.activityId)},children:(0,b.jsx)(n.Trash2,{className:"h-3.5 w-3.5 text-destructive group-hover:text-destructive-foreground"})})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-primary/10 text-primary group-hover:bg-white/20 group-hover:text-white",children:a.type}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2 group-hover:text-accent-foreground/80",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground group-hover:text-accent-foreground/80",children:["Capacity: ",a.maxCapacity," participants"]})]})]},a.activityId))})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:L?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl",children:L.activityName}),(0,b.jsx)(e.CardDescription,{className:"mt-2",children:L.description})]}),(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium bg-primary/10 text-primary",children:L.type})]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"Start Date & Time"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(L.startDate).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"End Date & Time"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(L.endDate).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"Maximum Capacity"}),(0,b.jsxs)("p",{className:"font-medium",children:[L.maxCapacity," participants"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"Activity ID"}),(0,b.jsxs)("p",{className:"font-medium",children:["#",L.activityId]})]})]})})]}),ao&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Calendar,{className:"h-5 w-5 text-primary"}),(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Parent Event"})]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-lg mb-1",children:ao.eventName}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[ao.startDate," - ",ao.endDate]})]})})})]}),X&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Building2,{className:"h-5 w-5 text-primary"}),(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Organizing Club"})]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"font-semibold text-lg",children:X.clubName}),(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:X.category})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:X.description})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Users,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Invited Guests"}),(0,b.jsx)(e.CardDescription,{children:"External guests invited to this activity"})]})]}),(0,b.jsxs)(g.Dialog,{open:ah,onOpenChange:ai,children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(s.UserPlus,{className:"h-4 w-4 mr-2"}),"Add Guest"]})}),(0,b.jsxs)(g.DialogContent,{children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:"Add Guest to Activity"}),(0,b.jsxs)(g.DialogDescription,{children:["Select a guest and assign a role for ",L.activityName,"."]})]}),(0,b.jsxs)("form",{onSubmit:ax,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"guestId",children:"Select Guest"}),(0,b.jsxs)(k.Select,{name:"guestId",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select a guest"})}),(0,b.jsx)(k.SelectContent,{children:P.map(a=>(0,b.jsx)(k.SelectItem,{value:a.guestId.toString(),children:a.fullName},a.guestId))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"roleDescription",children:"Role Description"}),(0,b.jsx)(h.Input,{id:"roleDescription",name:"roleDescription",placeholder:"e.g. Speaker, Judge",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"startDate",children:"Start Date & Time"}),(0,b.jsx)(h.Input,{id:"startDate",name:"startDate",type:"datetime-local",defaultValue:L.startDate,required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"endDate",children:"End Date & Time"}),(0,b.jsx)(h.Input,{id:"endDate",name:"endDate",type:"datetime-local",defaultValue:L.endDate,required:!0})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>ai(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",children:"Add Guest"})]})]})]})]})]})}),(0,b.jsx)(e.CardContent,{children:V.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Name"}),(0,b.jsx)(f.TableHead,{children:"Role"}),(0,b.jsx)(f.TableHead,{children:"Dates"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Action"})]})}),(0,b.jsx)(f.TableBody,{children:V.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.fullName||`${a.prenom_invite||""} ${a.nom_invite||""}`}),(0,b.jsx)(f.TableCell,{children:a.roleDescription}),(0,b.jsxs)(f.TableCell,{className:"text-xs",children:[new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]}),(0,b.jsx)(f.TableCell,{className:"text-right",children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>ay(a.guestRoleId),children:(0,b.jsx)(t.X,{className:"h-4 w-4 text-destructive"})})})]},a.guestRoleId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No guests invited yet"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Users,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Registered Students"}),(0,b.jsx)(e.CardDescription,{children:"Students registered for this activity"})]})]}),(0,b.jsxs)(g.Dialog,{open:af,onOpenChange:ag,children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(s.UserPlus,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),(0,b.jsxs)(g.DialogContent,{children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:"Add Student to Activity"}),(0,b.jsxs)(g.DialogDescription,{children:["Select a student to register for ",L.activityName,"."]})]}),(0,b.jsxs)("form",{onSubmit:av,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"studentId",children:"Select Student"}),(0,b.jsxs)(k.Select,{name:"studentId",required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select a student"})}),(0,b.jsx)(k.SelectContent,{children:N.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.studentId.toString(),children:[a.firstName," ",a.lastName," (",a.cne,")"]},a.studentId))})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>ag(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",children:"Register"})]})]})]})]})]})}),(0,b.jsx)(e.CardContent,{children:R.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Name"}),(0,b.jsx)(f.TableHead,{children:"CNE"}),(0,b.jsx)(f.TableHead,{children:"Email"}),(0,b.jsx)(f.TableHead,{children:"Major"}),(0,b.jsx)(f.TableHead,{className:"text-right",children:"Action"})]})}),(0,b.jsx)(f.TableBody,{children:R.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:`${a.firstName} ${a.lastName}`}),(0,b.jsx)(f.TableCell,{children:a.cne}),(0,b.jsx)(f.TableCell,{children:a.email}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:a.majorName||"N/A"})}),(0,b.jsx)(f.TableCell,{className:"text-right",children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>aw(a.studentId),children:(0,b.jsx)(t.X,{className:"h-4 w-4 text-destructive"})})})]},a.studentId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No students registered yet"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.MapPin,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Resource Reservations"}),(0,b.jsxs)(e.CardDescription,{className:"text-xs",children:[T.length," resource",1!==T.length?"s":""," reserved"]})]})]})}),(0,b.jsx)(e.CardContent,{children:T.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Resource"}),(0,b.jsx)(f.TableHead,{children:"Type"}),(0,b.jsx)(f.TableHead,{children:"Date"}),(0,b.jsx)(f.TableHead,{children:"Time"})]})}),(0,b.jsx)(f.TableBody,{children:T.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.resourceName}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:a.type})}),(0,b.jsx)(f.TableCell,{children:new Date(a.startDate).toLocaleDateString()}),(0,b.jsxs)(f.TableCell,{children:[new Date(a.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(a.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},a.reservationId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No resources reserved yet"})})]})]}):(0,b.jsx)(e.Card,{className:"h-full flex items-center justify-center",children:(0,b.jsx)(e.CardContent,{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Select an activity to view details"})})})})]})})]})}a.s(["default",()=>ar],56267)}];

//# sourceMappingURL=CL0V_app_%28dashboard%29_activities_page_tsx_023912de._.js.map