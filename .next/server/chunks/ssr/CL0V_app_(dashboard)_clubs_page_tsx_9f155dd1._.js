module.exports=[53825,a=>{"use strict";var b=a.i(7537),c=a.i(2009),d=a.i(78989),e=a.i(32051),f=a.i(56427),g=a.i(53210),h=a.i(51799),i=a.i(50897),j=a.i(6667),k=a.i(62532),l=a.i(32882),m=a.i(65539),n=a.i(28888),o=a.i(6765),p=a.i(78183),q=a.i(23418),r=a.i(73381),s=a.i(22677),t=a.i(19913),u=(0,t.createServerReference)("40cc7ee1355da82c16e371972e28f7e30849d71969",t.callServer,void 0,t.findSourceMapURL,"createClub"),v=(0,t.createServerReference)("60cee25155eb268da38739ba2e407d54bb593b1df7",t.callServer,void 0,t.findSourceMapURL,"updateClub"),w=(0,t.createServerReference)("405b392b39a10b6121ccadaa05f71f247ebe3ed014",t.callServer,void 0,t.findSourceMapURL,"deleteClub"),x=a.i(98284),y=(0,t.createServerReference)("4093cad3ee0ecc3b0fef2e61956b43f07c74a082a5",t.callServer,void 0,t.findSourceMapURL,"getClubMembers"),z=(0,t.createServerReference)("4067996a687fa4cdbc7335e58587de60a556e5ae59",t.callServer,void 0,t.findSourceMapURL,"getClubEvents"),A=(0,t.createServerReference)("40c8af38a81f3624f6b01079a706aa468b028c92a6",t.callServer,void 0,t.findSourceMapURL,"getClubActivities");function B(){let[a,t]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),{toast:P}=(0,s.useToast)(),Q=async()=>{C(!0);try{let a=await (0,x.getClubs)();t(a)}catch(a){P({title:"Error loading clubs",variant:"destructive"})}finally{C(!1)}};(0,c.useEffect)(()=>{Q()},[]),(0,c.useEffect)(()=>{!async function(){if(!H){K([]),M([]),O([]);return}try{let[a,b,c]=await Promise.all([y(H),z(H),A(H)]);K(a),M(b),O(c)}catch(a){console.error("Error fetching club details",a),P({title:"Error loading details",variant:"destructive"})}}()},[H,P]);let R=async a=>{let b;a.preventDefault();let c=new FormData(a.currentTarget);F?b=await v(F.clubId,c):(c.get("createdAt")||c.set("createdAt",new Date().toISOString().split("T")[0]),b=await u(c)),b.success?(P({title:b.message}),await Q(),E(!1),G(null)):P({title:"Operation Failed",description:b.message,variant:"destructive"})},S=async b=>{let c=await w(b);c.success?(P({title:c.message}),t(a.filter(a=>a.clubId!==b)),H===b&&I(null)):P({title:"Delete Failed",description:c.message,variant:"destructive"})},T=a.find(a=>a.clubId===H);return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b border-border bg-card",children:(0,b.jsxs)("div",{className:"px-8 py-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Clubs Management"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage student clubs and organizations"})]})}),(0,b.jsx)("main",{className:"px-8 py-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"All Clubs"}),(0,b.jsx)(e.CardDescription,{children:"Select a club to view details"})]}),(0,b.jsxs)(g.Dialog,{open:D,onOpenChange:a=>{E(a),a||G(null)},children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{size:"sm",children:(0,b.jsx)(l.Plus,{className:"h-4 w-4"})})}),(0,b.jsxs)(g.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:F?"Edit Club":"Create New Club"}),(0,b.jsx)(g.DialogDescription,{children:F?"Update club information":"Add a new club to the system"})]}),(0,b.jsxs)("form",{onSubmit:R,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"clubName",children:"Club Name"}),(0,b.jsx)(h.Input,{id:"clubName",name:"clubName",defaultValue:F?.clubName,required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"category",children:"Category"}),(0,b.jsxs)(k.Select,{name:"category",defaultValue:F?.category,required:!0,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select category"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"art et culture",children:"Art et Culture"}),(0,b.jsx)(k.SelectItem,{value:"sport",children:"Sport"}),(0,b.jsx)(k.SelectItem,{value:"technologie",children:"Technologie"}),(0,b.jsx)(k.SelectItem,{value:"entrepreneuriat social",children:"Entrepreneuriat Social"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"createdAt",children:"Creation Date"}),(0,b.jsx)(h.Input,{id:"createdAt",name:"createdAt",type:"date",defaultValue:F?.createdAt?new Date(F.createdAt).toISOString().split("T")[0]:"",required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(j.Textarea,{id:"description",name:"description",defaultValue:F?.description||"",rows:3})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",children:F?"Update":"Create"})]})]})]})]})]}),(0,b.jsx)(e.CardContent,{className:"space-y-2",children:B?(0,b.jsx)("div",{className:"flex justify-center py-10",children:(0,b.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===a.length?(0,b.jsx)("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No clubs found. Create one!"}):a.map(a=>(0,b.jsxs)("div",{className:`flex items-start justify-between p-4 rounded-lg border cursor-pointer transition-all ${H===a.clubId?"bg-primary/10 border-primary":"group bg-card border-border hover:bg-accent hover:text-accent-foreground hover:border-primary/50"}`,onClick:()=>I(a.clubId),children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground text-sm truncate group-hover:text-accent-foreground",children:a.clubName}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 group-hover:text-accent-foreground/80",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-accent/10 text-accent group-hover:bg-white/20 group-hover:text-white",children:a.category})})]}),(0,b.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:b=>{b.stopPropagation(),G(a),E(!0)},children:(0,b.jsx)(m.Edit,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:b=>{b.stopPropagation(),S(a.clubId)},children:(0,b.jsx)(n.Trash2,{className:"h-3.5 w-3.5 text-destructive group-hover:text-destructive-foreground"})})]})]},a.clubId))})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:T?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:T.clubName}),(0,b.jsx)(e.CardDescription,{children:T.description})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Category:"}),(0,b.jsx)("p",{className:"font-medium mt-1",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-accent/10 text-accent",children:T.category})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,b.jsx)("p",{className:"font-medium mt-1",children:new Date(T.createdAt).toLocaleDateString()})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Users,{className:"h-5 w-5 text-accent"}),(0,b.jsxs)(e.CardTitle,{children:["Members (",J.length,")"]})]}),(0,b.jsx)(e.CardDescription,{children:"Club members and registration dates"})]}),(0,b.jsx)(e.CardContent,{children:J.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Code"}),(0,b.jsx)(f.TableHead,{children:"Name"}),(0,b.jsx)(f.TableHead,{children:"Email"}),(0,b.jsx)(f.TableHead,{children:"Joined"})]})}),(0,b.jsx)(f.TableBody,{children:J.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-mono text-sm",children:a.cne}),(0,b.jsxs)(f.TableCell,{className:"font-medium",children:[a.firstName," ",a.lastName]}),(0,b.jsx)(f.TableCell,{className:"text-muted-foreground",children:a.email}),(0,b.jsx)(f.TableCell,{children:new Date(a.joinedAt).toLocaleDateString()})]},a.studentId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No members yet"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Calendar,{className:"h-5 w-5 text-accent"}),(0,b.jsxs)(e.CardTitle,{children:["Events (",L.length,")"]})]}),(0,b.jsx)(e.CardDescription,{children:"Events this club participates in"})]}),(0,b.jsx)(e.CardContent,{children:L.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Event Name"}),(0,b.jsx)(f.TableHead,{children:"Start Date"}),(0,b.jsx)(f.TableHead,{children:"End Date"})]})}),(0,b.jsx)(f.TableBody,{children:L.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.eventName}),(0,b.jsx)(f.TableCell,{children:new Date(a.startDate).toLocaleDateString()}),(0,b.jsx)(f.TableCell,{children:new Date(a.endDate).toLocaleDateString()})]},a.eventId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No events yet"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Activity,{className:"h-5 w-5 text-accent"}),(0,b.jsxs)(e.CardTitle,{children:["Activities (",N.length,")"]})]}),(0,b.jsx)(e.CardDescription,{children:"Activities organized by this club"})]}),(0,b.jsx)(e.CardContent,{children:N.length>0?(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableHead,{children:"Activity Name"}),(0,b.jsx)(f.TableHead,{children:"Type"}),(0,b.jsx)(f.TableHead,{children:"Start Date"}),(0,b.jsx)(f.TableHead,{children:"Capacity"})]})}),(0,b.jsx)(f.TableBody,{children:N.map(a=>(0,b.jsxs)(f.TableRow,{children:[(0,b.jsx)(f.TableCell,{className:"font-medium",children:a.activityName}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-primary/10 text-primary capitalize",children:a.type})}),(0,b.jsx)(f.TableCell,{children:new Date(a.startDate).toLocaleDateString()}),(0,b.jsxs)(f.TableCell,{className:"text-muted-foreground",children:[a.maxCapacity," people"]})]},a.activityId))})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No activities yet"})})]})]}):(0,b.jsx)(e.Card,{className:"h-[400px] flex items-center justify-center",children:(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(o.Users,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-lg font-medium text-foreground mb-2",children:"No club selected"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a club from the list to view its details"})]})})})})]})})]})}a.s(["default",()=>B],53825)}];

//# sourceMappingURL=CL0V_app_%28dashboard%29_clubs_page_tsx_9f155dd1._.js.map