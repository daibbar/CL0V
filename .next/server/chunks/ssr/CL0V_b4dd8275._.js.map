{"version":3,"sources":["../../../../../CL0V/actions/admin-actions.ts","../../../../../CL0V/.next-internal/server/app/%28dashboard%29/admins/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["'use server';\n\nimport db from '@/lib/db';\nimport { Admin } from '@/types/db';\nimport { revalidatePath } from 'next/cache';\n\nexport async function getAdmins() {\n  try {\n    const admins = db.prepare('SELECT * FROM admins ORDER BY adminId DESC').all() as Admin[];\n    // Remove password from returned objects for security\n    return admins.map(({ password, ...rest }) => rest);\n  } catch (error) {\n    console.error('Failed to fetch admins:', error);\n    return [];\n  }\n}\n\nexport async function updateAdminStatus(adminId: number, status: 'accepted' | 'rejected' | 'pending') {\n  try {\n    db.prepare('UPDATE admins SET status = ? WHERE adminId = ?').run(status, adminId);\n    revalidatePath('/admins');\n    return { success: true };\n  } catch (error) {\n    console.error('Failed to update admin status:', error);\n    return { success: false, error: 'Failed to update status' };\n  }\n}\n\nexport async function deleteAdmin(adminId: number) {\n  try {\n    db.prepare('DELETE FROM admins WHERE adminId = ?').run(adminId);\n    revalidatePath('/admins');\n    return { success: true };\n  } catch (error) {\n    console.error('Failed to delete admin:', error);\n    return { success: false, error: 'Failed to delete admin' };\n  }\n}\n","export {logout as '00f497f1f80dfe93943451c06664f4127784cb3b2c'} from 'ACTIONS_MODULE0'\nexport {updateAdminStatus as '601474e53724e179c86c8c62cec1b05895105c4d5e'} from 'ACTIONS_MODULE1'\nexport {deleteAdmin as '40d7f221d25811dba513c4a23ef08ce87ffab2f472'} from 'ACTIONS_MODULE1'\nexport {getAdmins as '004b6dd5552313efe4eb04bfd205aa9b07a20ac780'} from 'ACTIONS_MODULE1'\nexport {deleteAdmin as '40d7f221d25811dba513c4a23ef08ce87ffab2f472'} from 'ACTIONS_MODULE1'\nexport {updateAdminStatus as '601474e53724e179c86c8c62cec1b05895105c4d5e'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,IACpB,GAAI,CAGF,OAFe,AAER,EAFQ,OAAE,CAAC,OAAO,CAAC,8CAA8C,GAAG,GAE7D,GAAG,CAAC,CAAC,UAAE,CAAQ,CAAE,GAAG,EAAM,GAAK,EAC/C,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,0BAA2B,GAClC,EAAE,AACX,CACF,CAEO,eAAe,EAAkB,CAAe,CAAE,CAA2C,EAClG,GAAI,CAGF,OAFA,EAAA,OAAE,CAAC,OAAO,CAAC,kDAAkD,GAAG,CAAC,EAAQ,GACzE,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,WACR,CAAE,SAAS,CAAK,CACzB,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,iCAAkC,GACzC,CAAE,SAAS,EAAO,MAAO,yBAA0B,CAC5D,CACF,CAEO,eAAe,EAAY,CAAe,EAC/C,GAAI,CAGF,OAFA,EAAA,OAAE,CAAC,OAAO,CAAC,wCAAwC,GAAG,CAAC,GACvD,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,WACR,CAAE,SAAS,CAAK,CACzB,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,0BAA2B,GAClC,CAAE,SAAS,EAAO,MAAO,wBAAyB,CAC3D,CACF,0CA/BsB,EAWA,EAWA,IAtBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAWA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAWA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,qGC5BtB,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA"}