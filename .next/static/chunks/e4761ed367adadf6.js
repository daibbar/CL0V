(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8955,e=>{"use strict";let t=(0,e.i(21767).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],8955)},58217,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("00e1ea61c1c9e73b2b6038b22b957d4558fcf03f9a",t.callServer,void 0,t.findSourceMapURL,"getClubs");e.s(["getClubs",()=>a])},899,e=>{"use strict";var t=e.i(41308),a=e.i(9340);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},96535,e=>{"use strict";var t=e.i(41308),a=e.i(94973),r=e.i(30060),s=e.i(23153),l=e.i(85307),i=e.i(9415),c=e.i(31361),d=e.i(76782),n=e.i(899),o=e.i(5433),x=e.i(95904),u=e.i(43323),h=e.i(52137),m=e.i(28638),b=e.i(72729),j=e.i(52533),g=e.i(8955),p=e.i(56326),f=e.i(82807),v=(0,f.createServerReference)("40cc7ee1355da82c16e371972e28f7e30849d71969",f.callServer,void 0,f.findSourceMapURL,"createClub"),C=(0,f.createServerReference)("60cee25155eb268da38739ba2e407d54bb593b1df7",f.callServer,void 0,f.findSourceMapURL,"updateClub"),N=(0,f.createServerReference)("405b392b39a10b6121ccadaa05f71f247ebe3ed014",f.callServer,void 0,f.findSourceMapURL,"deleteClub"),y=e.i(58217),T=(0,f.createServerReference)("4093cad3ee0ecc3b0fef2e61956b43f07c74a082a5",f.callServer,void 0,f.findSourceMapURL,"getClubMembers"),S=(0,f.createServerReference)("4067996a687fa4cdbc7335e58587de60a556e5ae59",f.callServer,void 0,f.findSourceMapURL,"getClubEvents"),w=(0,f.createServerReference)("40c8af38a81f3624f6b01079a706aa468b028c92a6",f.callServer,void 0,f.findSourceMapURL,"getClubActivities");function D(){let[e,f]=(0,a.useState)([]),[D,R]=(0,a.useState)(!0),[H,A]=(0,a.useState)(!1),[L,I]=(0,a.useState)(null),[E,U]=(0,a.useState)(null),[M,B]=(0,a.useState)([]),[k,z]=(0,a.useState)([]),[F,O]=(0,a.useState)([]),{toast:P}=(0,p.useToast)(),V=async()=>{R(!0);try{let e=await (0,y.getClubs)();f(e)}catch(e){P({title:"Error loading clubs",variant:"destructive"})}finally{R(!1)}};(0,a.useEffect)(()=>{V()},[]),(0,a.useEffect)(()=>{!async function(){if(!E){B([]),z([]),O([]);return}try{let[e,t,a]=await Promise.all([T(E),S(E),w(E)]);B(e),z(t),O(a)}catch(e){console.error("Error fetching club details",e),P({title:"Error loading details",variant:"destructive"})}}()},[E,P]);let q=async e=>{let t;e.preventDefault();let a=new FormData(e.currentTarget);L?t=await C(L.clubId,a):(a.get("createdAt")||a.set("createdAt",new Date().toISOString().split("T")[0]),t=await v(a)),t.success?(P({title:t.message}),await V(),A(!1),I(null)):P({title:"Operation Failed",description:t.message,variant:"destructive"})},K=async t=>{let a=await N(t);a.success?(P({title:a.message}),f(e.filter(e=>e.clubId!==t)),E===t&&U(null)):P({title:"Delete Failed",description:a.message,variant:"destructive"})},J=e.find(e=>e.clubId===E);return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border bg-card",children:(0,t.jsxs)("div",{className:"px-8 py-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Clubs Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage student clubs and organizations"})]})}),(0,t.jsx)("main",{className:"px-8 py-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.CardTitle,{children:"All Clubs"}),(0,t.jsx)(s.CardDescription,{children:"Select a club to view details"})]}),(0,t.jsxs)(i.Dialog,{open:H,onOpenChange:e=>{A(e),e||I(null)},children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsx)(r.Button,{size:"sm",children:(0,t.jsx)(x.Plus,{className:"h-4 w-4"})})}),(0,t.jsxs)(i.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:L?"Edit Club":"Create New Club"}),(0,t.jsx)(i.DialogDescription,{children:L?"Update club information":"Add a new club to the system"})]}),(0,t.jsxs)("form",{onSubmit:q,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d.Label,{htmlFor:"clubName",children:"Club Name"}),(0,t.jsx)(c.Input,{id:"clubName",name:"clubName",defaultValue:L?.clubName,required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d.Label,{htmlFor:"category",children:"Category"}),(0,t.jsxs)(o.Select,{name:"category",defaultValue:L?.category,required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select category"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"art et culture",children:"Art et Culture"}),(0,t.jsx)(o.SelectItem,{value:"sport",children:"Sport"}),(0,t.jsx)(o.SelectItem,{value:"technologie",children:"Technologie"}),(0,t.jsx)(o.SelectItem,{value:"entrepreneuriat social",children:"Entrepreneuriat Social"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d.Label,{htmlFor:"createdAt",children:"Creation Date"}),(0,t.jsx)(c.Input,{id:"createdAt",name:"createdAt",type:"date",defaultValue:L?.createdAt?new Date(L.createdAt).toISOString().split("T")[0]:"",required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(d.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(n.Textarea,{id:"description",name:"description",defaultValue:L?.description||"",rows:3})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,t.jsx)(r.Button,{type:"submit",children:L?"Update":"Create"})]})]})]})]})]}),(0,t.jsx)(s.CardContent,{className:"space-y-2",children:D?(0,t.jsx)("div",{className:"flex justify-center py-10",children:(0,t.jsx)(g.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===e.length?(0,t.jsx)("div",{className:"text-center py-10 text-muted-foreground text-sm",children:"No clubs found. Create one!"}):e.map(e=>(0,t.jsxs)("div",{className:`flex items-start justify-between p-4 rounded-lg border cursor-pointer transition-all ${E===e.clubId?"bg-primary/10 border-primary":"group bg-card border-border hover:bg-accent hover:text-accent-foreground hover:border-primary/50"}`,onClick:()=>U(e.clubId),children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground text-sm truncate group-hover:text-accent-foreground",children:e.clubName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1 group-hover:text-accent-foreground/80",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-accent/10 text-accent group-hover:bg-white/20 group-hover:text-white",children:e.category})})]}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,t.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:t=>{t.stopPropagation(),I(e),A(!0)},children:(0,t.jsx)(u.Edit,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:t=>{t.stopPropagation(),K(e.clubId)},children:(0,t.jsx)(h.Trash2,{className:"h-3.5 w-3.5 text-destructive group-hover:text-destructive-foreground"})})]})]},e.clubId))})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:J?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:J.clubName}),(0,t.jsx)(s.CardDescription,{children:J.description})]}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Category:"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-accent/10 text-accent",children:J.category})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:new Date(J.createdAt).toLocaleDateString()})]})]})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Users,{className:"h-5 w-5 text-accent"}),(0,t.jsxs)(s.CardTitle,{children:["Members (",M.length,")"]})]}),(0,t.jsx)(s.CardDescription,{children:"Club members and registration dates"})]}),(0,t.jsx)(s.CardContent,{children:M.length>0?(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{children:"Code"}),(0,t.jsx)(l.TableHead,{children:"Name"}),(0,t.jsx)(l.TableHead,{children:"Email"}),(0,t.jsx)(l.TableHead,{children:"Joined"})]})}),(0,t.jsx)(l.TableBody,{children:M.map(e=>(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableCell,{className:"font-mono text-sm",children:e.cne}),(0,t.jsxs)(l.TableCell,{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,t.jsx)(l.TableCell,{className:"text-muted-foreground",children:e.email}),(0,t.jsx)(l.TableCell,{children:new Date(e.joinedAt).toLocaleDateString()})]},e.studentId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No members yet"})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Calendar,{className:"h-5 w-5 text-accent"}),(0,t.jsxs)(s.CardTitle,{children:["Events (",k.length,")"]})]}),(0,t.jsx)(s.CardDescription,{children:"Events this club participates in"})]}),(0,t.jsx)(s.CardContent,{children:k.length>0?(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{children:"Event Name"}),(0,t.jsx)(l.TableHead,{children:"Start Date"}),(0,t.jsx)(l.TableHead,{children:"End Date"})]})}),(0,t.jsx)(l.TableBody,{children:k.map(e=>(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableCell,{className:"font-medium",children:e.eventName}),(0,t.jsx)(l.TableCell,{children:new Date(e.startDate).toLocaleDateString()}),(0,t.jsx)(l.TableCell,{children:new Date(e.endDate).toLocaleDateString()})]},e.eventId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No events yet"})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Activity,{className:"h-5 w-5 text-accent"}),(0,t.jsxs)(s.CardTitle,{children:["Activities (",F.length,")"]})]}),(0,t.jsx)(s.CardDescription,{children:"Activities organized by this club"})]}),(0,t.jsx)(s.CardContent,{children:F.length>0?(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableHead,{children:"Activity Name"}),(0,t.jsx)(l.TableHead,{children:"Type"}),(0,t.jsx)(l.TableHead,{children:"Start Date"}),(0,t.jsx)(l.TableHead,{children:"Capacity"})]})}),(0,t.jsx)(l.TableBody,{children:F.map(e=>(0,t.jsxs)(l.TableRow,{children:[(0,t.jsx)(l.TableCell,{className:"font-medium",children:e.activityName}),(0,t.jsx)(l.TableCell,{children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-primary/10 text-primary capitalize",children:e.type})}),(0,t.jsx)(l.TableCell,{children:new Date(e.startDate).toLocaleDateString()}),(0,t.jsxs)(l.TableCell,{className:"text-muted-foreground",children:[e.maxCapacity," people"]})]},e.activityId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No activities yet"})})]})]}):(0,t.jsx)(s.Card,{className:"h-[400px] flex items-center justify-center",children:(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(m.Users,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-foreground mb-2",children:"No club selected"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a club from the list to view its details"})]})})})})]})})]})}e.s(["default",()=>D],96535)}]);