(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85951,e=>{"use strict";let t=(0,e.i(21767).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],85951)},364,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("00f0fbd698796520ff05242b59f678368a7d863381",t.callServer,void 0,t.findSourceMapURL,"getGuests");e.s(["getGuests",()=>a])},899,e=>{"use strict";var t=e.i(41308),a=e.i(9340);function i({className:e,...i}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}e.s(["Textarea",()=>i])},89561,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("0029907054bb533d649e0cb8363cb92ada7167165e",t.callServer,void 0,t.findSourceMapURL,"getActivities");e.s(["getActivities",()=>a])},3296,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("40ab32aabd37baaf13619ac786fe6ba3b765614849",t.callServer,void 0,t.findSourceMapURL,"getActivityReservations");e.s(["getActivityReservations",()=>a])},58217,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("00e1ea61c1c9e73b2b6038b22b957d4558fcf03f9a",t.callServer,void 0,t.findSourceMapURL,"getClubs");e.s(["getClubs",()=>a])},30158,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("00d9aceb431ba52b8dbfaaa55a20c815bf08a93a45",t.callServer,void 0,t.findSourceMapURL,"getStudents");e.s(["getStudents",()=>a])},54410,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("00c9aac6b33d1d5b8b4a10e4a172d3a9f8ea8c3f92",t.callServer,void 0,t.findSourceMapURL,"getEvents");e.s(["getEvents",()=>a])},71070,59833,15314,63729,93087,9803,19750,40927,e=>{"use strict";var t=e.i(82807),a=(0,t.createServerReference)("4093677df15a691f79b9cb9ce3b204c7a80ac2e1f6",t.callServer,void 0,t.findSourceMapURL,"createActivity");e.s(["createActivity",()=>a],71070);var i=(0,t.createServerReference)("608b8ecf7bcf672259111e83ff9d1fdd254243c838",t.callServer,void 0,t.findSourceMapURL,"updateActivity");e.s(["updateActivity",()=>i],59833);var r=(0,t.createServerReference)("4059e57844d4ecdbe90674012c6944c857f0d2e812",t.callServer,void 0,t.findSourceMapURL,"deleteActivity");e.s(["deleteActivity",()=>r],15314);var s=(0,t.createServerReference)("406e02b10a7397e5dc5b47a78b613db42fbb599d85",t.callServer,void 0,t.findSourceMapURL,"getActivityRegistrations");e.s(["getActivityRegistrations",()=>s],63729);var l=(0,t.createServerReference)("406f178211d76a54e61fe86f5f14c9006f5beb072b",t.callServer,void 0,t.findSourceMapURL,"addStudentToActivity");e.s(["addStudentToActivity",()=>l],93087);var d=(0,t.createServerReference)("405ec7b88a7417ca9286d6d3f1eb7f5278f5dd0875",t.callServer,void 0,t.findSourceMapURL,"removeStudentFromActivity");e.s(["removeStudentFromActivity",()=>d],9803);var c=(0,t.createServerReference)("40556636c39d7e57a9b537d18c9d96372cb097778a",t.callServer,void 0,t.findSourceMapURL,"addGuestToActivity");e.s(["addGuestToActivity",()=>c],19750);var n=(0,t.createServerReference)("4088ca76255c9d7d24cdbac7e2ada697db7876ce7b",t.callServer,void 0,t.findSourceMapURL,"removeGuestFromActivity");e.s(["removeGuestFromActivity",()=>n],40927)},13723,e=>{"use strict";var t=e.i(41308),a=e.i(94973),i=e.i(30060),r=e.i(23153),s=e.i(85307),l=e.i(9415),d=e.i(31361),c=e.i(76782),n=e.i(899),o=e.i(5433),u=e.i(95904),x=e.i(43323),m=e.i(52137),h=e.i(72729),v=e.i(28638),p=e.i(68864),g=e.i(85951),j=e.i(65980),f=e.i(20369),b=e.i(56326),y=e.i(71070),N=e.i(59833),S=e.i(15314),C=e.i(89561),w=e.i(63729),T=e.i(93087),D=e.i(9803),I=e.i(3296),R=e.i(19750),A=e.i(40927),k=e.i(30158),L=e.i(54410),F=e.i(58217),E=e.i(364),H=e.i(62939),M=e.i(64165),U=e.i(95239),V=e.i(98579),B=e.i(62884),P=e.i(25491),G=e.i(76247),q=e.i(79660),z=e.i(87743),O=e.i(23367),$="Radio",[K,X]=(0,U.createContextScope)($),[_,J]=K($),Z=a.forwardRef((e,i)=>{let{__scopeRadio:r,name:s,checked:l=!1,required:d,disabled:c,value:n="on",onCheck:o,form:u,...x}=e,[m,h]=a.useState(null),v=(0,M.useComposedRefs)(i,e=>h(e)),p=a.useRef(!1),g=!m||u||!!m.closest("form");return(0,t.jsxs)(_,{scope:r,checked:l,disabled:c,children:[(0,t.jsx)(V.Primitive.button,{type:"button",role:"radio","aria-checked":l,"data-state":ee(l),"data-disabled":c?"":void 0,disabled:c,value:n,...x,ref:v,onClick:(0,H.composeEventHandlers)(e.onClick,e=>{l||o?.(),g&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})}),g&&(0,t.jsx)(Y,{control:m,bubbles:!p.current,name:s,value:n,checked:l,required:d,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});Z.displayName=$;var Q="RadioIndicator",W=a.forwardRef((e,a)=>{let{__scopeRadio:i,forceMount:r,...s}=e,l=J(Q,i);return(0,t.jsx)(O.Presence,{present:r||l.checked,children:(0,t.jsx)(V.Primitive.span,{"data-state":ee(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:a})})});W.displayName=Q;var Y=e=>{let{control:i,checked:r,bubbles:s=!0,...l}=e,d=a.useRef(null),c=(0,z.usePrevious)(r),n=(0,q.useSize)(i);return a.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(a)}},[c,r,s]),(0,t.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:d,style:{...e.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ee(e){return e?"checked":"unchecked"}var et=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ea="RadioGroup",[ei,er]=(0,U.createContextScope)(ea,[B.createRovingFocusGroupScope,X]),es=(0,B.createRovingFocusGroupScope)(),el=X(),[ed,ec]=ei(ea),en=a.forwardRef((e,a)=>{let{__scopeRadioGroup:i,name:r,defaultValue:s,value:l,required:d=!1,disabled:c=!1,orientation:n,dir:o,loop:u=!0,onValueChange:x,...m}=e,h=es(i),v=(0,G.useDirection)(o),[p,g]=(0,P.useControllableState)({prop:l,defaultProp:s,onChange:x});return(0,t.jsx)(ed,{scope:i,name:r,required:d,disabled:c,value:p,onValueChange:g,children:(0,t.jsx)(B.Root,{asChild:!0,...h,orientation:n,dir:v,loop:u,children:(0,t.jsx)(V.Primitive.div,{role:"radiogroup","aria-required":d,"aria-orientation":n,"data-disabled":c?"":void 0,dir:v,...m,ref:a})})})});en.displayName=ea;var eo="RadioGroupItem",eu=a.forwardRef((e,i)=>{let{__scopeRadioGroup:r,disabled:s,...l}=e,d=ec(eo,r),c=d.disabled||s,n=es(r),o=el(r),u=a.useRef(null),x=(0,M.useComposedRefs)(i,u),m=d.value===l.value,h=a.useRef(!1);return a.useEffect(()=>{let e=e=>{et.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(B.Item,{asChild:!0,...n,focusable:!c,active:m,children:(0,t.jsx)(Z,{disabled:c,required:d.required,checked:m,...o,...l,name:d.name,ref:x,onCheck:()=>d.onValueChange(l.value),onKeyDown:(0,H.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,H.composeEventHandlers)(l.onFocus,()=>{h.current&&u.current?.click()})})})});eu.displayName=eo;var ex=a.forwardRef((e,a)=>{let{__scopeRadioGroup:i,...r}=e,s=el(i);return(0,t.jsx)(W,{...s,...r,ref:a})});ex.displayName="RadioGroupIndicator";var em=e.i(29879),eh=e.i(9340);function ev({className:e,...a}){return(0,t.jsx)(en,{"data-slot":"radio-group",className:(0,eh.cn)("grid gap-3",e),...a})}function ep({className:e,...a}){return(0,t.jsx)(eu,{"data-slot":"radio-group-item",className:(0,eh.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(ex,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(em.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function eg(){let[H,M]=(0,a.useState)([]),[U,V]=(0,a.useState)(null),[B,P]=(0,a.useState)([]),[G,q]=(0,a.useState)([]),[z,O]=(0,a.useState)([]),[$,K]=(0,a.useState)([]),[X,_]=(0,a.useState)([]),[J,Z]=(0,a.useState)(null),[Q,W]=(0,a.useState)([]),[Y,ee]=(0,a.useState)([]),[et,ea]=(0,a.useState)("event"),[ei,er]=(0,a.useState)(!1),[es,el]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(!1),[en,eo]=(0,a.useState)(null),[eu,ex]=(0,a.useState)(!0),{toast:em}=(0,b.useToast)(),eh=U?Q.find(e=>e.eventId===Number(U.eventId)):null;(0,a.useEffect)(()=>{(async()=>{ex(!0);try{let[e,t,a,i,r]=await Promise.all([(0,C.getActivities)(),(0,k.getStudents)(),(0,L.getEvents)(),(0,F.getClubs)(),(0,E.getGuests)()]);M(e),P(t),W(a),ee(i),q(r),e.length>0&&(V(e[0]),eg(e[0].activityId))}catch(e){em({title:"Error loading data",variant:"destructive"})}finally{ex(!1)}})()},[]);let eg=async t=>{try{let[a,i]=await Promise.all([(0,w.getActivityRegistrations)(t),(0,I.getActivityReservations)(t)]);O(a),K(i);try{let a=await (await e.A(26167)).getActivityGuests(t);_(a)}catch(e){console.error("Failed to load activity guests",e),_([])}try{let a=H.find(e=>e.activityId===t),i=a?.clubId??null;if(i){let t=await (await e.A(26167)).getActivityClub(i);Z(t)}else Z(null)}catch(e){console.error("Failed to load organizing club",e),Z(null)}}catch(e){console.error("Error loading activity details:",e)}},ej=async e=>{V(e),await eg(e.activityId)},ef=async e=>{e.preventDefault();let t=new FormData(e.currentTarget);try{let e;if((e=en?await (0,N.updateActivity)(en.activityId,t):await (0,y.createActivity)(t)).success){em({title:e.message});let t=await (0,C.getActivities)();M(t),er(!1),eo(null)}else em({title:e.message,variant:"destructive"})}catch(e){em({title:e.message||"An error occurred",variant:"destructive"})}},eb=async e=>{try{let t=await (0,S.deleteActivity)(e);t.success?(M(H.filter(t=>t.activityId!==e)),U?.activityId===e&&V(H.find(t=>t.activityId!==e)||null),em({title:t.message})):em({title:t.message,variant:"destructive"})}catch(e){em({title:e.message||"An error occurred",variant:"destructive"})}},ey=async e=>{if(e.preventDefault(),!U)return;let t=new FormData(e.currentTarget);t.append("activityId",U.activityId.toString());try{let e=await (0,T.addStudentToActivity)(t);e.success?(em({title:e.message}),el(!1),await eg(U.activityId)):em({title:e.message,variant:"destructive"})}catch(e){em({title:e.message||"Failed to add student",variant:"destructive"})}},eN=async e=>{if(!U)return;let t=new FormData;t.append("activityId",U.activityId.toString()),t.append("studentId",e.toString());try{let e=await (0,D.removeStudentFromActivity)(t);e.success?(em({title:e.message}),await eg(U.activityId)):em({title:e.message,variant:"destructive"})}catch(e){em({title:e.message,variant:"destructive"})}},eS=async e=>{if(e.preventDefault(),!U)return;let t=new FormData(e.currentTarget);t.append("activityId",U.activityId.toString());try{let e=await (0,R.addGuestToActivity)(t);e.success?(em({title:e.message}),ec(!1),await eg(U.activityId)):em({title:e.message,variant:"destructive"})}catch(e){em({title:e.message||"Failed to add guest",variant:"destructive"})}},eC=async e=>{if(U)try{let t=await (0,A.removeGuestFromActivity)(e);t.success?(em({title:t.message}),await eg(U.activityId)):em({title:t.message,variant:"destructive"})}catch(e){em({title:e.message,variant:"destructive"})}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border bg-card",children:(0,t.jsxs)("div",{className:"px-8 py-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Activities Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage club and event activities"})]})}),(0,t.jsx)("main",{className:"px-8 py-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{children:"All Activities"}),(0,t.jsx)(r.CardDescription,{className:"text-xs",children:"Select to view details"})]}),(0,t.jsxs)(l.Dialog,{open:ei,onOpenChange:e=>{er(e),e||eo(null)},children:[(0,t.jsx)(l.DialogTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{size:"sm",children:(0,t.jsx)(u.Plus,{className:"h-4 w-4"})})}),(0,t.jsxs)(l.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:en?"Edit Activity":"Create New Activity"}),(0,t.jsx)(l.DialogDescription,{children:en?"Update activity information":"Add a new activity to the system"})]}),(0,t.jsxs)("form",{onSubmit:ef,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"activityName",children:"Activity Name"}),(0,t.jsx)(d.Input,{id:"activityName",name:"activityName",defaultValue:en?.activityName,required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(n.Textarea,{id:"description",name:"description",defaultValue:en?.description??"",rows:2})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"type",children:"Type"}),(0,t.jsxs)(o.Select,{name:"type",defaultValue:en?.type||"",required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select type"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"Voyage",children:"Voyage"}),(0,t.jsx)(o.SelectItem,{value:"Atelier",children:"Atelier"}),(0,t.jsx)(o.SelectItem,{value:"Conference",children:"Conference"}),(0,t.jsx)(o.SelectItem,{value:"Competition",children:"Competition"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"maxCapacity",children:"Max Capacity"}),(0,t.jsx)(d.Input,{id:"maxCapacity",name:"maxCapacity",type:"number",min:"1",defaultValue:en?.maxCapacity?.toString()||"",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{children:"Organizer Type"}),(0,t.jsxs)(ev,{defaultValue:et,onValueChange:e=>ea(e),className:"flex flex-row space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ep,{value:"event",id:"r-event"}),(0,t.jsx)(c.Label,{htmlFor:"r-event",children:"Event"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ep,{value:"club",id:"r-club"}),(0,t.jsx)(c.Label,{htmlFor:"r-club",children:"Club"})]})]})]}),"event"===et?(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"eventId",children:"Event"}),(0,t.jsxs)(o.Select,{name:"eventId",defaultValue:en?.eventId?.toString()||"",required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select event"})}),(0,t.jsx)(o.SelectContent,{children:Q.map(e=>(0,t.jsx)(o.SelectItem,{value:e.eventId.toString(),children:e.eventName},e.eventId))})]})]}):(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"clubId",children:"Club"}),(0,t.jsxs)(o.Select,{name:"clubId",defaultValue:en?.clubId?.toString()||"",required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select club"})}),(0,t.jsx)(o.SelectContent,{children:Y.map(e=>(0,t.jsx)(o.SelectItem,{value:e.clubId.toString(),children:e.clubName},e.clubId))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"startDate",children:"Start Date & Time"}),(0,t.jsx)(d.Input,{id:"startDate",name:"startDate",type:"datetime-local",defaultValue:en?.startDate,required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"endDate",children:"End Date & Time"}),(0,t.jsx)(d.Input,{id:"endDate",name:"endDate",type:"datetime-local",defaultValue:en?.endDate,required:!0})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>er(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",children:en?"Update":"Create"})]})]})]})]})]}),(0,t.jsx)(r.CardContent,{className:"space-y-2 max-h-[500px] overflow-y-auto",children:H.map(e=>(0,t.jsxs)("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${U?.activityId===e.activityId?"bg-primary/10 border-primary":"group bg-card border-border hover:bg-accent hover:text-accent-foreground hover:border-primary/50"}`,onClick:()=>ej(e),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:e.activityName}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:t=>{t.stopPropagation(),eo(e),e.clubId?ea("club"):ea("event"),er(!0)},children:(0,t.jsx)(x.Edit,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",className:"h-7 w-7 group-hover:text-accent-foreground group-hover:hover:bg-white/20",onClick:t=>{t.stopPropagation(),eb(e.activityId)},children:(0,t.jsx)(m.Trash2,{className:"h-3.5 w-3.5 text-destructive group-hover:text-destructive-foreground"})})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium bg-primary/10 text-primary group-hover:bg-white/20 group-hover:text-white",children:e.type}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2 group-hover:text-accent-foreground/80",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground group-hover:text-accent-foreground/80",children:["Capacity: ",e.maxCapacity," participants"]})]})]},e.activityId))})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:U?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{className:"text-2xl",children:U.activityName}),(0,t.jsx)(r.CardDescription,{className:"mt-2",children:U.description})]}),(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-sm font-medium bg-primary/10 text-primary",children:U.type})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-1",children:"Start Date & Time"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(U.startDate).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-1",children:"End Date & Time"}),(0,t.jsx)("p",{className:"font-medium",children:new Date(U.endDate).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-1",children:"Maximum Capacity"}),(0,t.jsxs)("p",{className:"font-medium",children:[U.maxCapacity," participants"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-1",children:"Activity ID"}),(0,t.jsxs)("p",{className:"font-medium",children:["#",U.activityId]})]})]})})]}),eh&&(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Calendar,{className:"h-5 w-5 text-primary"}),(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Parent Event"})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-lg mb-1",children:eh.eventName}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[eh.startDate," - ",eh.endDate]})]})})})]}),J&&(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Building2,{className:"h-5 w-5 text-primary"}),(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Organizing Club"})]})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",children:J.clubName}),(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:J.category})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:J.description})]})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Users,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Invited Guests"}),(0,t.jsx)(r.CardDescription,{children:"External guests invited to this activity"})]})]}),(0,t.jsxs)(l.Dialog,{open:ed,onOpenChange:ec,children:[(0,t.jsx)(l.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(j.UserPlus,{className:"h-4 w-4 mr-2"}),"Add Guest"]})}),(0,t.jsxs)(l.DialogContent,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Add Guest to Activity"}),(0,t.jsxs)(l.DialogDescription,{children:["Select a guest and assign a role for ",U.activityName,"."]})]}),(0,t.jsxs)("form",{onSubmit:eS,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"guestId",children:"Select Guest"}),(0,t.jsxs)(o.Select,{name:"guestId",required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select a guest"})}),(0,t.jsx)(o.SelectContent,{children:G.map(e=>(0,t.jsx)(o.SelectItem,{value:e.guestId.toString(),children:e.fullName},e.guestId))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"roleDescription",children:"Role Description"}),(0,t.jsx)(d.Input,{id:"roleDescription",name:"roleDescription",placeholder:"e.g. Speaker, Judge",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"startDate",children:"Start Date & Time"}),(0,t.jsx)(d.Input,{id:"startDate",name:"startDate",type:"datetime-local",defaultValue:U.startDate,required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"endDate",children:"End Date & Time"}),(0,t.jsx)(d.Input,{id:"endDate",name:"endDate",type:"datetime-local",defaultValue:U.endDate,required:!0})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>ec(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",children:"Add Guest"})]})]})]})]})]})}),(0,t.jsx)(r.CardContent,{children:X.length>0?(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableHead,{children:"Name"}),(0,t.jsx)(s.TableHead,{children:"Role"}),(0,t.jsx)(s.TableHead,{children:"Dates"}),(0,t.jsx)(s.TableHead,{className:"text-right",children:"Action"})]})}),(0,t.jsx)(s.TableBody,{children:X.map(e=>(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{className:"font-medium",children:e.fullName||`${e.prenom_invite||""} ${e.nom_invite||""}`}),(0,t.jsx)(s.TableCell,{children:e.roleDescription}),(0,t.jsxs)(s.TableCell,{className:"text-xs",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]}),(0,t.jsx)(s.TableCell,{className:"text-right",children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>eC(e.guestRoleId),children:(0,t.jsx)(f.X,{className:"h-4 w-4 text-destructive"})})})]},e.guestRoleId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No guests invited yet"})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Users,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Registered Students"}),(0,t.jsx)(r.CardDescription,{children:"Students registered for this activity"})]})]}),(0,t.jsxs)(l.Dialog,{open:es,onOpenChange:el,children:[(0,t.jsx)(l.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(j.UserPlus,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),(0,t.jsxs)(l.DialogContent,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Add Student to Activity"}),(0,t.jsxs)(l.DialogDescription,{children:["Select a student to register for ",U.activityName,"."]})]}),(0,t.jsxs)("form",{onSubmit:ey,className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.Label,{htmlFor:"studentId",children:"Select Student"}),(0,t.jsxs)(o.Select,{name:"studentId",required:!0,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select a student"})}),(0,t.jsx)(o.SelectContent,{children:B.map(e=>(0,t.jsxs)(o.SelectItem,{value:e.studentId.toString(),children:[e.firstName," ",e.lastName," (",e.cne,")"]},e.studentId))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>el(!1),children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",children:"Register"})]})]})]})]})]})}),(0,t.jsx)(r.CardContent,{children:z.length>0?(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableHead,{children:"Name"}),(0,t.jsx)(s.TableHead,{children:"CNE"}),(0,t.jsx)(s.TableHead,{children:"Email"}),(0,t.jsx)(s.TableHead,{children:"Major"}),(0,t.jsx)(s.TableHead,{className:"text-right",children:"Action"})]})}),(0,t.jsx)(s.TableBody,{children:z.map(e=>(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{className:"font-medium",children:`${e.firstName} ${e.lastName}`}),(0,t.jsx)(s.TableCell,{children:e.cne}),(0,t.jsx)(s.TableCell,{children:e.email}),(0,t.jsx)(s.TableCell,{children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:e.majorName||"N/A"})}),(0,t.jsx)(s.TableCell,{className:"text-right",children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>eN(e.studentId),children:(0,t.jsx)(f.X,{className:"h-4 w-4 text-destructive"})})})]},e.studentId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No students registered yet"})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.MapPin,{className:"h-5 w-5 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Resource Reservations"}),(0,t.jsxs)(r.CardDescription,{className:"text-xs",children:[$.length," resource",1!==$.length?"s":""," reserved"]})]})]})}),(0,t.jsx)(r.CardContent,{children:$.length>0?(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableHead,{children:"Resource"}),(0,t.jsx)(s.TableHead,{children:"Type"}),(0,t.jsx)(s.TableHead,{children:"Date"}),(0,t.jsx)(s.TableHead,{children:"Time"})]})}),(0,t.jsx)(s.TableBody,{children:$.map(e=>(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{className:"font-medium",children:e.resourceName}),(0,t.jsx)(s.TableCell,{children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium bg-primary/10 text-primary",children:e.type})}),(0,t.jsx)(s.TableCell,{children:new Date(e.startDate).toLocaleDateString()}),(0,t.jsxs)(s.TableCell,{children:[new Date(e.startDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(e.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},e.reservationId))})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No resources reserved yet"})})]})]}):(0,t.jsx)(r.Card,{className:"h-full flex items-center justify-center",children:(0,t.jsx)(r.CardContent,{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Select an activity to view details"})})})})]})})]})}e.s(["default",()=>eg],13723)},26167,e=>{e.v(t=>Promise.all(["static/chunks/56d431a83ed1e3a7.js"].map(t=>e.l(t))).then(()=>t(5943)))}]);