{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,sXAAC,qYAAmB;QAClB,aAAU;QACV,WAAW,IAAA,0HAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-2xl border py-6 shadow-md transition-transform duration-150 hover:-translate-y-1',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EACX,6IACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sXAAC;QACC,aAAU;QACV,WAAW,IAAA,0HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/actions/student-portal-actions.ts"],"sourcesContent":["'use server'\n\nimport db from '@/lib/db';\nimport { auth } from '@/auth';\nimport { revalidatePath } from 'next/cache';\nimport bcrypt from 'bcryptjs';\n\n// --- HELPERS ---\nasync function getStudentId() {\n  const session = await auth();\n  if (!session?.user?.id || (session.user as any).role !== 'student') {\n    throw new Error('Unauthorized');\n  }\n  return parseInt(session.user.id);\n}\n\n// --- READ ---\n\nexport async function getAllEventsForStudent() {\n  const studentId = await getStudentId();\n  try {\n    const events = db.prepare(`\n      SELECT e.*, \n        CASE WHEN ep.studentId IS NOT NULL THEN 1 ELSE 0 END as isRegistered\n      FROM events e\n      LEFT JOIN eventParticipants ep ON e.eventId = ep.eventId AND ep.studentId = ?\n      ORDER BY e.startDate DESC\n    `).all(studentId);\n    return events;\n  } catch (error) {\n    console.error(\"Failed to fetch events:\", error);\n    return [];\n  }\n}\n\nexport async function getAllClubsForStudent() {\n  const studentId = await getStudentId();\n  try {\n    const clubs = db.prepare(`\n      SELECT c.*, \n        CASE WHEN cm.studentId IS NOT NULL THEN 1 ELSE 0 END as isMember,\n        cm.status as membershipStatus\n      FROM clubs c\n      LEFT JOIN clubMemberships cm ON c.clubId = cm.clubId AND cm.studentId = ?\n      ORDER BY c.clubName ASC\n    `).all(studentId);\n    return clubs;\n  } catch (error) {\n    console.error(\"Failed to fetch clubs:\", error);\n    return [];\n  }\n}\n\nexport async function getAllActivitiesForStudent() {\n  const studentId = await getStudentId();\n  try {\n    const activities = db.prepare(`\n      SELECT a.*, \n        CASE WHEN r.studentId IS NOT NULL THEN 1 ELSE 0 END as isRegistered\n      FROM activities a\n      LEFT JOIN registrations r ON a.activityId = r.activityId AND r.studentId = ?\n      ORDER BY a.startDate DESC\n    `).all(studentId);\n    return activities;\n  } catch (error) {\n    console.error(\"Failed to fetch activities:\", error);\n    return [];\n  }\n}\n\n// --- WRITE ---\n\nexport async function registerForEvent(eventId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('INSERT INTO eventParticipants (eventId, studentId) VALUES (?, ?)').run(eventId, studentId);\n    revalidatePath('/student/events');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Registered successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function unregisterFromEvent(eventId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('DELETE FROM eventParticipants WHERE eventId = ? AND studentId = ?').run(eventId, studentId);\n    revalidatePath('/student/events');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Unregistered successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function joinClub(clubId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('INSERT INTO clubMemberships (clubId, studentId, status) VALUES (?, ?, ?)').run(clubId, studentId, 'pending');\n    revalidatePath('/student/clubs');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Request to join club sent. Awaiting approval.' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function leaveClub(clubId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('DELETE FROM clubMemberships WHERE clubId = ? AND studentId = ?').run(clubId, studentId);\n    revalidatePath('/student/clubs');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Left club successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function registerForActivity(activityId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('INSERT INTO registrations (activityId, studentId) VALUES (?, ?)').run(activityId, studentId);\n    revalidatePath('/student/activities');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Registered for activity successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function unregisterFromActivity(activityId: number) {\n  const studentId = await getStudentId();\n  try {\n    db.prepare('DELETE FROM registrations WHERE activityId = ? AND studentId = ?').run(activityId, studentId);\n    revalidatePath('/student/activities');\n    revalidatePath('/student/dashboard');\n    return { success: true, message: 'Unregistered from activity successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function changePassword(formData: FormData) {\n  const studentId = await getStudentId();\n  const currentPassword = formData.get('currentPassword') as string;\n  const newPassword = formData.get('newPassword') as string;\n\n  try {\n    const student = db.prepare('SELECT * FROM students WHERE studentId = ?').get(studentId) as any;\n    \n    const match = await bcrypt.compare(currentPassword, student.password);\n    if (!match) {\n      return { success: false, message: 'Incorrect current password' };\n    }\n\n    const hashed = await bcrypt.hash(newPassword, 10);\n    db.prepare('UPDATE students SET password = ? WHERE studentId = ?').run(hashed, studentId);\n    \n    return { success: true, message: 'Password changed successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAgJsB,iBAAA,WAAA,GAAA,IAAA,uXAAA,EAAA,8CAAA,4WAAA,EAAA,KAAA,GAAA,kXAAA,EAAA"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/components/change-password-form.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useToast } from '@/hooks/use-toast';\nimport { changePassword } from '@/actions/student-portal-actions';\nimport { Loader2 } from 'lucide-react';\n\nexport function ChangePasswordForm() {\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    const formData = new FormData(e.currentTarget);\n    const newPassword = formData.get('newPassword') as string;\n    const confirmPassword = formData.get('confirmPassword') as string;\n\n    if (newPassword !== confirmPassword) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"New passwords do not match.\",\n      });\n      setLoading(false);\n      return;\n    }\n\n    const result = await changePassword(formData);\n    \n    setLoading(false);\n\n    if (result.success) {\n      toast({\n        title: \"Success\",\n        description: result.message,\n      });\n      (e.target as HTMLFormElement).reset();\n    } else {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: result.message,\n      });\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md\">\n      <CardHeader>\n        <CardTitle>Change Password</CardTitle>\n        <CardDescription>Update your account password.</CardDescription>\n      </CardHeader>\n      <form onSubmit={handleSubmit}>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"currentPassword\">Current Password</Label>\n            <Input id=\"currentPassword\" name=\"currentPassword\" type=\"password\" required />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"newPassword\">New Password</Label>\n            <Input id=\"newPassword\" name=\"newPassword\" type=\"password\" required />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"confirmPassword\">Confirm New Password</Label>\n            <Input id=\"confirmPassword\" name=\"confirmPassword\" type=\"password\" required />\n          </div>\n        </CardContent>\n        <CardFooter>\n          <Button type=\"submit\" disabled={loading} className=\"w-full\">\n            {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n            Update Password\n          </Button>\n        </CardFooter>\n      </form>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yVAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,yIAAQ;IAE1B,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAC7C,MAAM,cAAc,SAAS,GAAG,CAAC;QACjC,MAAM,kBAAkB,SAAS,GAAG,CAAC;QAErC,IAAI,gBAAgB,iBAAiB;YACnC,MAAM;gBACJ,SAAS;gBACT,OAAO;gBACP,aAAa;YACf;YACA,WAAW;YACX;QACF;QAEA,MAAM,SAAS,MAAM,IAAA,yKAAc,EAAC;QAEpC,WAAW;QAEX,IAAI,OAAO,OAAO,EAAE;YAClB,MAAM;gBACJ,OAAO;gBACP,aAAa,OAAO,OAAO;YAC7B;YACC,EAAE,MAAM,CAAqB,KAAK;QACrC,OAAO;YACL,MAAM;gBACJ,SAAS;gBACT,OAAO;gBACP,aAAa,OAAO,OAAO;YAC7B;QACF;IACF;IAEA,qBACE,sXAAC,yIAAI;QAAC,WAAU;;0BACd,sXAAC,+IAAU;;kCACT,sXAAC,8IAAS;kCAAC;;;;;;kCACX,sXAAC,oJAAe;kCAAC;;;;;;;;;;;;0BAEnB,sXAAC;gBAAK,UAAU;;kCACd,sXAAC,gJAAW;wBAAC,WAAU;;0CACrB,sXAAC;gCAAI,WAAU;;kDACb,sXAAC,2IAAK;wCAAC,SAAQ;kDAAkB;;;;;;kDACjC,sXAAC,2IAAK;wCAAC,IAAG;wCAAkB,MAAK;wCAAkB,MAAK;wCAAW,QAAQ;;;;;;;;;;;;0CAE7E,sXAAC;gCAAI,WAAU;;kDACb,sXAAC,2IAAK;wCAAC,SAAQ;kDAAc;;;;;;kDAC7B,sXAAC,2IAAK;wCAAC,IAAG;wCAAc,MAAK;wCAAc,MAAK;wCAAW,QAAQ;;;;;;;;;;;;0CAErE,sXAAC;gCAAI,WAAU;;kDACb,sXAAC,2IAAK;wCAAC,SAAQ;kDAAkB;;;;;;kDACjC,sXAAC,2IAAK;wCAAC,IAAG;wCAAkB,MAAK;wCAAkB,MAAK;wCAAW,QAAQ;;;;;;;;;;;;;;;;;;kCAG/E,sXAAC,+IAAU;kCACT,cAAA,sXAAC,6IAAM;4BAAC,MAAK;4BAAS,UAAU;4BAAS,WAAU;;gCAChD,yBAAW,sXAAC,wTAAO;oCAAC,WAAU;;;;;;gCAA+B;;;;;;;;;;;;;;;;;;;;;;;;AAO1E"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/node_modules/.pnpm/%40radix-ui%2Breact-label%402.1.1_%40types%2Breact-dom%4019.2.3_%40types%2Breact%4019.2.7__%40types%2Breact%401_8f5a08ee848b8c9b81ea0512163a1e17/node_modules/%40radix-ui/react-label/src/Label.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ElementRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n"],"names":[],"mappings":";;;;;;;AAAA,YAAY,WAAW;AACvB,SAAS,iBAAiB;AActB;;;;;AARJ,IAAM,OAAO;AAMb,IAAM,QAAc,2VAAA,CAAqC,CAAC,OAAO,iBAAiB;IAChF,OACE,aAAA,GAAA,IAAA,sWAAA,EAAC,2YAAA,CAAU,KAAA,EAAV;QACE,GAAG,KAAA;QACJ,KAAK;QACL,aAAa,CAAC,UAAU;YAEtB,MAAM,SAAS,MAAM,MAAA;YACrB,IAAI,OAAO,OAAA,CAAQ,iCAAiC,EAAG,CAAA;YAEvD,MAAM,WAAA,GAAc,KAAK;YAEzB,IAAI,CAAC,MAAM,gBAAA,IAAoB,MAAM,MAAA,GAAS,EAAG,CAAA,MAAM,cAAA,CAAe;QACxE;IAAA;AAGN,CAAC;AAED,MAAM,WAAA,GAAc;AAIpB,IAAM,OAAO"}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/CL0V/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js","sources":["file:///home/daibbar/projects/CL0V/node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.0/node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAe,yQAAA,EAAiB,cAAgB,CAAA,CAAA,CAAA;IACpD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC7D,CAAA,CAAA"}}]
}