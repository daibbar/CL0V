{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/lib/db.ts"],"sourcesContent":["import Database from 'better-sqlite3';\nimport path from 'path';\n\nconst dbPath = path.join(process.cwd(), 'data', 'cl0v.db');\n\nconst db = new Database(dbPath, { verbose: console.log});\n\ndb.pragma('foreign_keys = ON');\n\nexport default db;"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;AAEhD,MAAM,KAAK,IAAI,sIAAQ,CAAC,QAAQ;IAAE,SAAS,QAAQ,GAAG;AAAA;AAEtD,GAAG,MAAM,CAAC;uCAEK"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/actions/club-actions.ts"],"sourcesContent":["'use server'\n\nimport db from '@/lib/db';\nimport { Club } from '@/types/db';\nimport { revalidatePath } from 'next/cache';\n\n// --- CREATE ---\nexport async function createClub(formData: FormData) {\n  const clubName = formData.get('clubName') as string;\n  const category = formData.get('category') as string;\n  const description = formData.get('description') as string;\n  const createdAt = formData.get('createdAt') as string;\n\n  try {\n    const stmt = db.prepare(`\n      INSERT INTO clubs (clubName, category, description, createdAt)\n      VALUES (@clubName, @category, @description, @createdAt)\n    `);\n\n    stmt.run({ clubName, category, description, createdAt });\n    \n    // Refresh the page data\n    revalidatePath('/clubs');\n    return { success: true, message: 'Club created successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- READ (Optional, usually done directly in Server Components) ---\nexport async function getClubs() {\n  const clubs = db.prepare('SELECT * FROM clubs ORDER BY createdAt DESC').all() as Club[];\n  return clubs;\n}\n\n// --- UPDATE ---\nexport async function updateClub(clubId: number, formData: FormData) {\n  const clubName = formData.get('clubName') as string;\n  const category = formData.get('category') as string;\n  const description = formData.get('description') as string;\n  const createdAt = formData.get('createdAt') as string;\n\n  try {\n    const stmt = db.prepare(`\n      UPDATE clubs \n      SET clubName = @clubName, \n          category = @category, \n          description = @description, \n          createdAt = @createdAt\n      WHERE clubId = @clubId\n    `);\n\n    stmt.run({ clubName, category, description, createdAt, clubId });\n\n    revalidatePath('/clubs');\n    return { success: true, message: 'Club updated successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- DELETE ---\nexport async function deleteClub(clubId: number) {\n  try {\n    const stmt = db.prepare('DELETE FROM clubs WHERE clubId = ?');\n    stmt.run(clubId);\n\n    revalidatePath('/clubs');\n    return { success: true, message: 'Club deleted successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- GET CLUBS BY EVENT ---\nexport async function getClubsByEvent(eventId: number) {\n  try {\n    const clubs = db.prepare(`\n      SELECT c.*\n      FROM clubs c\n      JOIN eventOrganizers eo ON c.clubId = eo.clubId\n      WHERE eo.eventId = ?\n    `).all(eventId);\n\n    return clubs || [];\n  } catch (error: any) {\n    console.error(\"Failed to fetch clubs for event:\", error);\n    return [];\n  }\n}\n\n// --- CLUB MEMBERSHIPS ---\nexport async function getClubMembers(clubId: number) {\n  try {\n    const members = db.prepare(`\n      SELECT s.*, cm.joinedAt\n      FROM students s\n      JOIN clubMemberships cm ON s.studentId = cm.studentId\n      WHERE cm.clubId = ?\n      ORDER BY cm.joinedAt DESC\n    `).all(clubId);\n    \n    return members;\n  } catch (error: any) {\n    console.error(\"Failed to fetch club members:\", error);\n    return [];\n  }\n}\n\nexport async function getClubEvents(clubId: number) {\n  try {\n    // Events where the club is an organizer\n    const events = db.prepare(`\n      SELECT e.*\n      FROM events e\n      JOIN eventOrganizers eo ON e.eventId = eo.eventId\n      WHERE eo.clubId = ?\n      ORDER BY e.startDate DESC\n    `).all(clubId);\n    return events;\n  } catch (error) {\n    console.error(\"Failed to fetch club events:\", error);\n    return [];\n  }\n}\n\nexport async function getClubActivities(clubId: number) {\n  try {\n    // Activities owned by the club\n    const activities = db.prepare(`\n      SELECT * FROM activities WHERE clubId = ? ORDER BY startDate DESC\n    `).all(clubId);\n    return activities;\n  } catch (error) {\n     console.error(\"Failed to fetch club activities:\", error);\n     return [];\n  }\n}\n\nexport async function getClubMemberships() {\n  try {\n    const rows = db.prepare(`\n      SELECT cm.membershipId, cm.joinedAt,\n             c.clubName as clubName, c.category as clubCategory,\n             s.studentId, s.firstName || ' ' || s.lastName as studentName, s.cne as studentCne, s.email as studentEmail\n      FROM clubMemberships cm\n      JOIN clubs c ON cm.clubId = c.clubId\n      JOIN students s ON cm.studentId = s.studentId\n      ORDER BY cm.joinedAt DESC\n    `).all();\n\n    return rows || [];\n  } catch (error: any) {\n    console.error('Failed to fetch club memberships', error);\n    return [];\n  }\n}\n\nexport async function createClubMembership(formData: FormData) {\n  const studentId = parseInt(formData.get('studentId') as string);\n  const clubId = parseInt(formData.get('clubId') as string);\n  const joinedAt = (formData.get('joinedAt') as string) || new Date().toISOString();\n\n  try {\n    const stmt = db.prepare(`\n      INSERT INTO clubMemberships (joinedAt, clubId, studentId)\n      VALUES (@joinedAt, @clubId, @studentId)\n    `);\n\n    stmt.run({ joinedAt, clubId, studentId });\n    revalidatePath('/memberships');\n    return { success: true };\n  } catch (error: any) {\n    console.error('Failed to create club membership', error);\n    return { success: false, message: error.message };\n  }\n}\n\nexport async function deleteClubMembership(membershipId: number) {\n  try {\n    const stmt = db.prepare('DELETE FROM clubMemberships WHERE membershipId = ?');\n    stmt.run(membershipId);\n    revalidatePath('/memberships');\n    return { success: true };\n  } catch (error: any) {\n    console.error('Failed to delete club membership', error);\n    return { success: false, message: error.message };\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/actions/event-actions.ts"],"sourcesContent":["'use server'\n\nimport db from '@/lib/db';\nimport { revalidatePath } from 'next/cache';\nimport { Event, Student } from '@/types/db'; \n\n// --- CREATE EVENT ---\nexport async function createEvent(formData: FormData) {\n  const eventName = formData.get('eventName') as string;\n  const startDate = formData.get('startDate') as string;\n  const endDate = formData.get('endDate') as string;\n  // clubIds is expected to be a JSON string of numbers, e.g., \"[1, 2]\"\n  const clubIdsJson = formData.get('clubIds') as string; \n  let clubIds: number[] = [];\n  \n  if (clubIdsJson) {\n    try {\n      clubIds = JSON.parse(clubIdsJson);\n    } catch (e) {\n      console.error(\"Invalid clubIds JSON\", e);\n    }\n  }\n\n  try {\n    const createTransaction = db.transaction(() => {\n        const stmt = db.prepare(`\n        INSERT INTO events (eventName, startDate, endDate)\n        VALUES (@eventName, @startDate, @endDate)\n        `);\n        const info = stmt.run({ eventName, startDate, endDate });\n        const eventId = info.lastInsertRowid;\n\n        if (clubIds.length > 0) {\n            const insertOrg = db.prepare(`\n                INSERT INTO eventOrganizers (eventId, clubId) VALUES (?, ?)\n            `);\n            for (const clubId of clubIds) {\n                insertOrg.run(eventId, clubId);\n            }\n        }\n        return eventId;\n    });\n\n    createTransaction();\n    \n    revalidatePath('/events');\n    return { success: true, message: 'Event created successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- READ EVENTS (Optional utility) ---\nexport async function getEvents() {\n  try {\n    const events = db.prepare('SELECT * FROM events ORDER BY startDate DESC').all() as Event[];\n    return events;\n  } catch (error: any) {\n    console.error(\"Failed to fetch events:\", error);\n    return [];\n  }\n}\n\n// --- UPDATE EVENT ---\nexport async function updateEvent(eventId: number, formData: FormData) {\n  const eventName = formData.get('eventName') as string;\n  const startDate = formData.get('startDate') as string;\n  const endDate = formData.get('endDate') as string;\n  const clubIdsJson = formData.get('clubIds') as string;\n  let clubIds: number[] = [];\n\n  if (clubIdsJson) {\n    try {\n      clubIds = JSON.parse(clubIdsJson);\n    } catch (e) {\n      console.error(\"Invalid clubIds JSON\", e);\n    }\n  }\n\n  try {\n    const updateTransaction = db.transaction(() => {\n        const stmt = db.prepare(`\n        UPDATE events \n        SET eventName = @eventName, \n            startDate = @startDate, \n            endDate = @endDate\n        WHERE eventId = @eventId\n        `);\n        stmt.run({ eventName, startDate, endDate, eventId });\n\n        // Update organizers: delete existing, insert new\n        // Only do this if clubIds was actually passed (even if empty array, meaning clear all)\n        // If undefined/null logic was needed we'd check formData.has('clubIds'), but here we assume it's sent.\n        if (clubIdsJson !== null) { \n             const deleteOrgs = db.prepare('DELETE FROM eventOrganizers WHERE eventId = ?');\n             deleteOrgs.run(eventId);\n\n             if (clubIds.length > 0) {\n                 const insertOrg = db.prepare('INSERT INTO eventOrganizers (eventId, clubId) VALUES (?, ?)');\n                 for (const clubId of clubIds) {\n                     insertOrg.run(eventId, clubId);\n                 }\n             }\n        }\n    });\n\n    updateTransaction();\n\n    revalidatePath('/events');\n    return { success: true, message: 'Event updated successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- DELETE EVENT ---\nexport async function deleteEvent(eventId: number) {\n  try {\n    const stmt = db.prepare('DELETE FROM events WHERE eventId = ?');\n    stmt.run(eventId);\n\n    revalidatePath('/events');\n    return { success: true, message: 'Event deleted successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- ADD STUDENT TO EVENT (Attendance) ---\nexport async function addStudentToEvent(formData: FormData) {\n  const eventId = Number(formData.get('eventId'));\n  const studentId = Number(formData.get('studentId'));\n\n  if (!eventId || !studentId) {\n    return { success: false, message: 'Invalid Event or Student ID' };\n  }\n\n  try {\n    // Uses the camelCase table name 'eventParticipants' matching your schema\n    const stmt = db.prepare(`\n      INSERT INTO eventParticipants (eventId, studentId)\n      VALUES (@eventId, @studentId)\n    `);\n\n    stmt.run({ eventId, studentId });\n\n    // Revalidate events to update the UI counts/lists immediately\n    revalidatePath('/events');\n    return { success: true, message: 'Student successfully registered for event' };\n\n  } catch (error: any) {\n    // Handle Unique Constraint (Student already added)\n    if (error.code === 'SQLITE_CONSTRAINT_PRIMARYKEY' || error.code === 'SQLITE_CONSTRAINT_UNIQUE') {\n      return { success: false, message: 'Student is already registered for this event' };\n    }\n    return { success: false, message: error.message };\n  }\n}\n\n// --- REMOVE STUDENT FROM EVENT ---\nexport async function removeStudentFromEvent(formData: FormData) {\n    const eventId = Number(formData.get('eventId'));\n    const studentId = Number(formData.get('studentId'));\n\n    if (!eventId || !studentId) {\n        return { success: false, message: 'Invalid Event or Student ID' };\n    }\n\n    try {\n        const stmt = db.prepare('DELETE FROM eventParticipants WHERE eventId = ? AND studentId = ?');\n        stmt.run(eventId, studentId);\n        \n        revalidatePath('/events');\n        return { success: true, message: 'Student removed from event' };\n    } catch (error: any) {\n        return { success: false, message: error.message };\n    }\n}\n\n// --- GET EVENT PARTICIPANTS ---\nexport async function getEventParticipants(eventId: number) {\n  try {\n    const participants = db.prepare(`\n      SELECT s.*\n      FROM eventParticipants ep\n      JOIN students s ON ep.studentId = s.studentId\n      WHERE ep.eventId = ?\n      ORDER BY s.lastName ASC\n    `).all(eventId) as Student[];\n\n    return participants || [];\n  } catch (error: any) {\n    console.error(\"Failed to fetch event participants:\", error);\n    return [];\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/actions/student-actions.ts"],"sourcesContent":["'use server'\n\nimport db from '@/lib/db';\nimport { Student, Major, Event, Club, Activity } from '@/types/db';\nimport { revalidatePath } from 'next/cache';\n\n// --- HELPER TYPES ---\n// We define this here because the UI usually needs the Major Name, not just the ID\nexport type StudentWithMajor = Student & {\n  majorName: string | null;\n  clubCount: number;\n  activityCount: number;\n  eventCount: number;\n};\n\n// --- READ ---\n\nexport async function getStudents() {\n  // We JOIN with majors to get the readable name (e.g., 'IID') instead of just a number\n  // And we include counts for clubs, activities, and events\n  const students = db.prepare(`\n    SELECT \n      students.*, \n      majors.majorName,\n      (SELECT COUNT(*) FROM clubMemberships WHERE clubMemberships.studentId = students.studentId) as clubCount,\n      (SELECT COUNT(*) FROM registrations WHERE registrations.studentId = students.studentId) as activityCount,\n      (SELECT COUNT(*) FROM eventParticipants WHERE eventParticipants.studentId = students.studentId) as eventCount\n    FROM students \n    LEFT JOIN majors ON students.majorId = majors.majorId\n    ORDER BY students.lastName ASC\n  `).all() as StudentWithMajor[];\n  \n  return students;\n}\n\nexport async function getStudentEvents(studentId: number) {\n  const events = db.prepare(`\n    SELECT e.* \n    FROM events e\n    JOIN eventParticipants ep ON e.eventId = ep.eventId\n    WHERE ep.studentId = ?\n    ORDER BY e.startDate DESC\n  `).all(studentId) as Event[];\n  return events;\n}\n\nexport async function getStudentClubs(studentId: number) {\n  const clubs = db.prepare(`\n    SELECT c.* \n    FROM clubs c\n    JOIN clubMemberships cm ON c.clubId = cm.clubId\n    WHERE cm.studentId = ?\n    ORDER BY c.clubName ASC\n  `).all(studentId) as Club[];\n  return clubs;\n}\n\nexport async function getStudentActivities(studentId: number) {\n  const activities = db.prepare(`\n    SELECT a.* \n    FROM activities a\n    JOIN registrations r ON a.activityId = r.activityId\n    WHERE r.studentId = ?\n    ORDER BY a.startDate DESC\n  `).all(studentId) as Activity[];\n  return activities;\n}\n\nexport async function getTotalActivitiesCount() {\n  const result = db.prepare('SELECT COUNT(*) as count FROM activities').get() as { count: number };\n  return result.count;\n}\n\n// We need this to populate the <Select> dropdown in the Add/Edit form\nexport async function getMajors() {\n  return db.prepare('SELECT * FROM majors ORDER BY majorName ASC').all() as Major[];\n}\n\n// --- CREATE ---\n\nexport async function createStudent(formData: FormData) {\n  const firstName = formData.get('firstName') as string;\n  const lastName = formData.get('lastName') as string;\n  const cne = formData.get('cne') as string;\n  const email = formData.get('email') as string;\n  // Convert string \"1\" to number 1, or null if empty\n  const majorId = formData.get('majorId') ? parseInt(formData.get('majorId') as string) : null;\n\n  try {\n    const stmt = db.prepare(`\n      INSERT INTO students (firstName, lastName, cne, email, majorId)\n      VALUES (@firstName, @lastName, @cne, @email, @majorId)\n    `);\n\n    stmt.run({ firstName, lastName, cne, email, majorId });\n    \n    revalidatePath('/students');\n    return { success: true, message: 'Student registered successfully' };\n  } catch (error: any) {\n    // Handle Unique Constraints (Duplicate CNE or Email)\n    if (error.code === 'SQLITE_CONSTRAINT_UNIQUE') {\n      return { success: false, message: 'Error: Student Code (CNE) or Email already exists.' };\n    }\n    return { success: false, message: error.message };\n  }\n}\n\n// --- UPDATE ---\n\nexport async function updateStudent(studentId: number, formData: FormData) {\n  const firstName = formData.get('firstName') as string;\n  const lastName = formData.get('lastName') as string;\n  const cne = formData.get('cne') as string;\n  const email = formData.get('email') as string;\n  const majorId = formData.get('majorId') ? parseInt(formData.get('majorId') as string) : null;\n\n  try {\n    const stmt = db.prepare(`\n      UPDATE students \n      SET firstName = @firstName, \n          lastName = @lastName, \n          cne = @cne, \n          email = @email, \n          majorId = @majorId\n      WHERE studentId = @studentId\n    `);\n\n    stmt.run({ firstName, lastName, cne, email, majorId, studentId });\n\n    revalidatePath('/students');\n    return { success: true, message: 'Student updated successfully' };\n  } catch (error: any) {\n    if (error.code === 'SQLITE_CONSTRAINT_UNIQUE') {\n      return { success: false, message: 'Error: Student Code or Email is already taken.' };\n    }\n    return { success: false, message: error.message };\n  }\n}\n\n// --- DELETE ---\n\nexport async function deleteStudent(studentId: number) {\n  try {\n    const stmt = db.prepare('DELETE FROM students WHERE studentId = ?');\n    stmt.run(studentId);\n\n    revalidatePath('/students');\n    return { success: true, message: 'Student deleted successfully' };\n  } catch (error: any) {\n    // SQLITE_CONSTRAINT_FOREIGNKEY happens if you try to delete a student \n    // who is arguably an \"Organizer\" of an event or has critical linked data.\n    // (Though usually, ON DELETE CASCADE handles this, it's good to be safe)\n    return { success: false, message: error.message };\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/actions/activity-actions.ts"],"sourcesContent":["'use server'\n\nimport db from '@/lib/db';\nimport { Activity, Event, Registration, Reservation } from '@/types/db';\nimport { revalidatePath } from 'next/cache';\n\n// --- TYPES ---\nexport type ActivityWithRelations = Activity & {\n  eventName?: string | null;\n  clubName?: string | null;\n};\n\n// --- CREATE ACTIVITY ---\nexport async function createActivity(formData: FormData) {\n  const activityName = formData.get('activityName') as string;\n  const description = formData.get('description') as string;\n  const type = formData.get('type') as string;\n  const maxCapacity = formData.get('maxCapacity') ? Number(formData.get('maxCapacity')) : null;\n  const startDate = formData.get('startDate') as string;\n  const endDate = formData.get('endDate') as string;\n  const clubId = formData.get('clubId') ? Number(formData.get('clubId')) : null;\n  const eventId = formData.get('eventId') ? Number(formData.get('eventId')) : null;\n\n  try {\n    const stmt = db.prepare(`\n      INSERT INTO activities (activityName, description, type, maxCapacity, startDate, endDate, clubId, eventId)\n      VALUES (@activityName, @description, @type, @maxCapacity, @startDate, @endDate, @clubId, @eventId)\n    `);\n\n    stmt.run({ activityName, description, type, maxCapacity, startDate, endDate, clubId, eventId });\n    \n    revalidatePath('/activities');\n    return { success: true, message: 'Activity created successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- READ ACTIVITIES ---\nexport async function getActivities() {\n  try {\n    const activities = db.prepare(`\n      SELECT \n        a.*,\n        e.eventName,\n        c.clubName\n      FROM activities a\n      LEFT JOIN events e ON a.eventId = e.eventId\n      LEFT JOIN clubs c ON a.clubId = c.clubId\n      ORDER BY a.startDate DESC\n    `).all() as ActivityWithRelations[];\n    \n    return activities;\n  } catch (error: any) {\n    console.error(\"Failed to fetch activities:\", error);\n    return [];\n  }\n}\n\n// --- GET ACTIVITY BY ID ---\nexport async function getActivityById(activityId: number) {\n  try {\n    const activity = db.prepare(`\n      SELECT \n        a.*,\n        e.eventName,\n        c.clubName\n      FROM activities a\n      LEFT JOIN events e ON a.eventId = e.eventId\n      LEFT JOIN clubs c ON a.clubId = c.clubId\n      WHERE a.activityId = ?\n    `).get(activityId) as ActivityWithRelations | undefined;\n    \n    return activity || null;\n  } catch (error: any) {\n    console.error(\"Failed to fetch activity:\", error);\n    return null;\n  }\n}\n\n// --- UPDATE ACTIVITY ---\nexport async function updateActivity(activityId: number, formData: FormData) {\n  const activityName = formData.get('activityName') as string;\n  const description = formData.get('description') as string;\n  const type = formData.get('type') as string;\n  const maxCapacity = formData.get('maxCapacity') ? Number(formData.get('maxCapacity')) : null;\n  const startDate = formData.get('startDate') as string;\n  const endDate = formData.get('endDate') as string;\n  const clubId = formData.get('clubId') ? Number(formData.get('clubId')) : null;\n  const eventId = formData.get('eventId') ? Number(formData.get('eventId')) : null;\n\n  try {\n    const stmt = db.prepare(`\n      UPDATE activities \n      SET activityName = @activityName,\n          description = @description,\n          type = @type,\n          maxCapacity = @maxCapacity,\n          startDate = @startDate,\n          endDate = @endDate,\n          clubId = @clubId,\n          eventId = @eventId\n      WHERE activityId = @activityId\n    `);\n\n    stmt.run({ activityName, description, type, maxCapacity, startDate, endDate, clubId, eventId, activityId });\n\n    revalidatePath('/activities');\n    return { success: true, message: 'Activity updated successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- DELETE ACTIVITY ---\nexport async function deleteActivity(activityId: number) {\n  try {\n    const stmt = db.prepare('DELETE FROM activities WHERE activityId = ?');\n    stmt.run(activityId);\n\n    revalidatePath('/activities');\n    return { success: true, message: 'Activity deleted successfully' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- GET ACTIVITY REGISTRATIONS (Students registered for activity) ---\nexport async function getActivityRegistrations(activityId: number) {\n  try {\n    const registrations = db.prepare(`\n      SELECT \n        r.*,\n        s.firstName,\n        s.lastName,\n        s.cne,\n        s.email\n      FROM registrations r\n      JOIN students s ON r.studentId = s.studentId\n      WHERE r.activityId = ?\n      ORDER BY s.lastName ASC\n    `).all(activityId);\n    \n    return registrations || [];\n  } catch (error: any) {\n    console.error(\"Failed to fetch registrations:\", error);\n    return [];\n  }\n}\n\n// --- ADD STUDENT TO ACTIVITY ---\nexport async function addStudentToActivity(formData: FormData) {\n  const activityId = Number(formData.get('activityId'));\n  const studentId = Number(formData.get('studentId'));\n\n  if (!activityId || !studentId) {\n    return { success: false, message: 'Invalid Activity or Student ID' };\n  }\n\n  try {\n    const stmt = db.prepare(`\n      INSERT INTO registrations (studentId, activityId)\n      VALUES (@studentId, @activityId)\n    `);\n\n    stmt.run({ studentId, activityId });\n\n    revalidatePath('/activities');\n    return { success: true, message: 'Student successfully registered for activity' };\n  } catch (error: any) {\n    if (error.code === 'SQLITE_CONSTRAINT_PRIMARYKEY' || error.code === 'SQLITE_CONSTRAINT_UNIQUE') {\n      return { success: false, message: 'Student is already registered for this activity' };\n    }\n    return { success: false, message: error.message };\n  }\n}\n\n// --- REMOVE STUDENT FROM ACTIVITY ---\nexport async function removeStudentFromActivity(formData: FormData) {\n  const activityId = Number(formData.get('activityId'));\n  const studentId = Number(formData.get('studentId'));\n\n  if (!activityId || !studentId) {\n    return { success: false, message: 'Invalid Activity or Student ID' };\n  }\n\n  try {\n    const stmt = db.prepare('DELETE FROM registrations WHERE activityId = ? AND studentId = ?');\n    stmt.run(activityId, studentId);\n\n    revalidatePath('/activities');\n    return { success: true, message: 'Student removed from activity' };\n  } catch (error: any) {\n    return { success: false, message: error.message };\n  }\n}\n\n// --- GET ACTIVITY RESERVATIONS ---\nexport async function getActivityReservations(activityId: number) {\n  try {\n    const reservations = db.prepare(`\n      SELECT \n        res.*,\n        r.resourceName,\n        r.type\n      FROM reservations res\n      JOIN resources r ON res.resourceId = r.resourceId\n      WHERE res.activityId = ?\n      ORDER BY res.startDate ASC\n    `).all(activityId);\n    \n    return reservations || [];\n  } catch (error: any) {\n    console.error(\"Failed to fetch reservations:\", error);\n    return [];\n  }\n}\n\n// --- GET ACTIVITY EVENT ---\nexport async function getActivityEvent(eventId: number | null) {\n  if (!eventId) return null;\n  \n  try {\n    const event = db.prepare(`\n      SELECT * FROM events WHERE eventId = ?\n    `).get(eventId) as Event | undefined;\n    \n    return event || null;\n  } catch (error: any) {\n    console.error(\"Failed to fetch event:\", error);\n    return null;\n  }\n}\n\n// --- GET ACTIVITY CLUB ---\nexport async function getActivityClub(clubId: number | null) {\n  if (!clubId) return null;\n  \n  try {\n    const club = db.prepare(`\n      SELECT * FROM clubs WHERE clubId = ?\n    `).get(clubId);\n    \n    return club || null;\n  } catch (error: any) {\n    console.error(\"Failed to fetch club:\", error);\n    return null;\n  }\n}\n\n// --- GET ACTIVITY GUESTS ---\nexport async function getActivityGuests(activityId: number) {\n  try {\n    const guests = db.prepare(`\n      SELECT gr.*, g.fullName, g.email, g.phone\n      FROM guestRoles gr\n      JOIN guests g ON gr.guestId = g.guestId\n      WHERE gr.activityId = ?\n      ORDER BY gr.startDate ASC\n    `).all(activityId);\n\n    return guests || [];\n  } catch (error: any) {\n    console.error(\"Failed to fetch activity guests:\", error);\n    return [];\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///home/daibbar/projects/CL0V/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getClubs as '00545b232253d73c1b611478bd06ced735bf06d28f'} from 'ACTIONS_MODULE0'\nexport {getClubMemberships as '00ff9a47e4ba82e70e55d1e7f6cc89cce14b6f5f4d'} from 'ACTIONS_MODULE0'\nexport {getClubMembers as '4000313a5acbb7e94baad51d8157f0172a109b57f5'} from 'ACTIONS_MODULE0'\nexport {deleteClubMembership as '400bc84fe43569a50acb94ceb89e2811b94d78e4d0'} from 'ACTIONS_MODULE0'\nexport {getClubEvents as '401e2045fbee811dd001c67288e014f0808a177f35'} from 'ACTIONS_MODULE0'\nexport {deleteClub as '403f314d2770b6d30df991c169ac621c3e542a6a3e'} from 'ACTIONS_MODULE0'\nexport {getClubsByEvent as '40937b7d5eb78ccbf3004e0770b399ebe96930477c'} from 'ACTIONS_MODULE0'\nexport {createClubMembership as '40c977e9523458e7667dbc9361296afbfa11073e61'} from 'ACTIONS_MODULE0'\nexport {getClubActivities as '40ebf616928dfb92ae12b9e40f78a4de8020661f1a'} from 'ACTIONS_MODULE0'\nexport {createClub as '40fb1239fe5dab8c81aa1a6c6a4e3d3dff68362a12'} from 'ACTIONS_MODULE0'\nexport {updateClub as '608c092e7574f097374d45ba2f0b8c1a86de07b8f0'} from 'ACTIONS_MODULE0'\nexport {getEvents as '00b3e34c4e07d70cddec963eb433f89987d4b1ecc1'} from 'ACTIONS_MODULE1'\nexport {createEvent as '403e5a982f8755e6b16f59f4809c421466d15886a0'} from 'ACTIONS_MODULE1'\nexport {addStudentToEvent as '405eda02ecdfa76802a6324bc23adc89fb34d879a0'} from 'ACTIONS_MODULE1'\nexport {removeStudentFromEvent as '4065cfb9e2b3af6bead2163348801ce68958481d8f'} from 'ACTIONS_MODULE1'\nexport {getEventParticipants as '409f3fef78c4c40ab3c98ef2dadb38b8619061c46d'} from 'ACTIONS_MODULE1'\nexport {deleteEvent as '40b9392a185f6ffae43160a7f170e8f4ebbaa456c0'} from 'ACTIONS_MODULE1'\nexport {updateEvent as '606b7e8b78018ace53376c80e58e5d16cf5092564f'} from 'ACTIONS_MODULE1'\nexport {getTotalActivitiesCount as '000c05c8913e8b991c02dcbc9a6588eb11351ad47d'} from 'ACTIONS_MODULE2'\nexport {getStudents as '0076e1ee761f3c725f60e6b94644d057cf1652cdf3'} from 'ACTIONS_MODULE2'\nexport {getMajors as '00fe3536568a6c117a4b57577e978eb83ea68f419d'} from 'ACTIONS_MODULE2'\nexport {getStudentActivities as '40409b46f825f48fd11d0bbe12e6eb545405bce9bd'} from 'ACTIONS_MODULE2'\nexport {getStudentEvents as '405896ee1640fc439a0edc4e76ed44615f302849a8'} from 'ACTIONS_MODULE2'\nexport {getStudentClubs as '4058c552c6e5832b78d3ff3972d188e1e2544edc4f'} from 'ACTIONS_MODULE2'\nexport {deleteStudent as '405fda7eb3a9b799d827ff4332611a9f0e62f6c74e'} from 'ACTIONS_MODULE2'\nexport {createStudent as '40852ca8bcc92030e1c2fec9a5d89cb0a554ab764e'} from 'ACTIONS_MODULE2'\nexport {updateStudent as '60a0ef4ce8b4795ac36b4acc6df890381a47990a1b'} from 'ACTIONS_MODULE2'\nexport {getActivities as '00d7abac122d2009179788ee8ba03e756a794d1668'} from 'ACTIONS_MODULE3'\nexport {getActivityGuests as '402836b906fe1a896e3e13ce8df53cffa7ece3719c'} from 'ACTIONS_MODULE3'\nexport {getActivityRegistrations as '403743946631f84fffc6b2e0cf41a09587cd4e8b15'} from 'ACTIONS_MODULE3'\nexport {getActivityClub as '40509477903f07b033aa6707b1fadb9b733c60d2f9'} from 'ACTIONS_MODULE3'\nexport {deleteActivity as '4056bc820f2c930d8b70f3b8408ed3d51ea16a3d7c'} from 'ACTIONS_MODULE3'\nexport {createActivity as '4056f4d7605604cd5848f7cac4947d48023e1fa31f'} from 'ACTIONS_MODULE3'\nexport {addStudentToActivity as '406c87a631657372fe92405ee9aecf16948758609c'} from 'ACTIONS_MODULE3'\nexport {getActivityReservations as '40827adc5cb82f88807f3cceaadd9dccb2d352dc4e'} from 'ACTIONS_MODULE3'\nexport {removeStudentFromActivity as '40937c43e914adda587cb7e80333349a5d18623975'} from 'ACTIONS_MODULE3'\nexport {getActivityById as '40980ed63f3fe1f7d6d7d8c8fe97a163769addb434'} from 'ACTIONS_MODULE3'\nexport {getActivityEvent as '40fd6fd1a4e486d3084405a2e10a04886aed6dc85b'} from 'ACTIONS_MODULE3'\nexport {updateActivity as '60e36e300aaa5b3e43b04781cdeded8c39f3d3ebf1'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":";AAAA;AAWA;AAOA;AASA"}}]
}